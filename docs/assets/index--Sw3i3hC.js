var he=Object.defineProperty;var ue=(s,e,t)=>e in s?he(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var A=(s,e,t)=>ue(s,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();window.addEventListener("error",s=>console.error("window.error:",s.error||s.message));window.addEventListener("unhandledrejection",s=>console.error("unhandled:",s.reason));const I={König:1,Spieler:0,Captain:4,Späher:4,Grunzer:11},ge={König:{},Spieler:{demoteBelow:120,demoteTo:"Captain"},Captain:{promoteAt:150,promoteTo:"Spieler",demoteBelow:40,demoteTo:"Späher"},Späher:{promoteAt:90,promoteTo:"Captain",demoteBelow:20,demoteTo:"Grunzer"},Grunzer:{promoteAt:50,promoteTo:"Späher"}},pe={Feigling:-.4,Berserker:.45,Hinterhältig:.3,Trinkfest:.15,Tierjäger:.2,Intrigant:.25},fe={ALLY:.35,FRIEND:.2,RIVAL:-.45,BLOOD_OATH:.5},me=10,Ee=5,k={DEATH:100,SPAWN:80,PROMOTION:70,WARCALL:60,RELATIONSHIP:50,GENERAL:10};function S(s,e,t){return`${t}_${e}_${Math.floor(s.next()*1e6)}`}function J(s){return[`Basis ${s.base.toFixed(2)}`,`Traits ${s.traits.toFixed(2)}`,`Beziehungen ${s.relationships.toFixed(2)}`,`Zufall ${s.random.toFixed(2)}`].join(", ")}function ye(s,e,t){const i=[`${t.name} kippt beim Festmahl den Krug – Allianz besiegelt?`,`${t.name} streift den Schlackennebel ab und schließt sich der Horde an.`,`Im Schatten des Pilzwaldes hebt ${t.name} den Blutkrug – Willkommen in den Reihen.`,`${t.name} brüllt durch den Hof und verlangt nach Ruhm.`,`Zwischen Knochenfeuern schwört ${t.name} dem Kriegstrupp Treue.`],n=s.pick(i);return{id:S(s,e,"spawn"),cycle:e,text:n,tone:"SPAWN",priority:k.SPAWN}}function Be(s,e,t,i){const n=[`${t.name} fällt ${i} – die Halle verstummt.`,`${t.name} sinkt in den Schatten, ${i} hallt nach.`,`Blutige Sippe: ${t.name} erliegt ${i}.`,`${t.name} zerbirst unter ${i}.`,`Ein dumpfer Schlag, ein letzter Blick – ${t.name} findet sein Ende (${i}).`],r=s.pick(n);return{id:S(s,e,"death"),cycle:e,text:r,tone:"DEATH",priority:k.DEATH}}function ke(s,e,t,i){const n=[`${t.name} lässt den Trophäenkranz klirren – Aufstieg zum ${i}.`,`${t.name} erkämpft sich den Titel ${i} mitten im Jubel.`,`Ein neues Banner für ${t.name}: ${i}!`];return{id:S(s,e,"promotion"),cycle:e,text:s.pick(n),tone:"PROMOTION",priority:k.PROMOTION}}function Se(s,e,t,i,n){const r=[`${t.initiator} führt die Meute bei ${t.location} zum Sieg (${t.kind}). (${J(n)})`,`Im Sturm auf ${t.location} triumphiert der Trupp (${t.kind}). (${J(n)})`],a=[`${t.location} verschlingt die Krieger – ${t.kind} scheitert. (${J(n)})`,`Der Ruf nach Krieg verhallt in ${t.location} (${t.kind}). (${J(n)})`],o=i?s.pick(r):s.pick(a);return{id:S(s,e,"warcall"),cycle:e,text:o,tone:"WARCALL",priority:k.WARCALL}}function Ce(s,e,t,i,n){const a={ALLY:["schmiedet","besiegelt","formt"],RIVAL:["reizt","verhöhnt","verletzt"],BLOOD_OATH:["ritzt","bindet","verschlingt"],FRIEND:["lacht mit","rauft freundschaftlich mit","teilt den Humpen mit"]}[n].map(o=>`${t.name} ${o} ${i.name}.`);return{id:S(s,e,"relation"),cycle:e,text:s.pick(a),tone:"RELATIONSHIP",priority:k.RELATIONSHIP}}function O(s,e,t){return{id:S(s,e,"general"),cycle:e,text:t,tone:"GENERAL",priority:k.GENERAL}}const Ie=[{seed:"orc-001",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6klEQVR4AeXBIUoEAQBA0e9nFjyAt9gmmBabfYvJNGDwSGIQ9gCWOYNmr2AxegCb1k2LLKMw/vdObq62X4RJnMRJnMRJnMRJnMRJ3MCRHm6f2Xf3eMkSSZzESZzESZzESdyw2rwzh9XmnSWSOImTOImTOImTOImTuIGZ7LY7DhmnkZ/abXccMk4jc5E4iZO4gZmM08hcxmnkr0icxEmcxEmcxEncwMzOnz75Ta/Xp8xJ4iRuYGav16csicRJ3LD+OOM4b+xbf5yxRBIncRIncRIncRI3cKT7lwv+A4mTOImTOImTOImTOIn7Br2tGZU78ySjAAAAAElFTkSuQmCC"},{seed:"orc-002",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/0lEQVR4AeXBMUoDUQBF0evjp88GwmCTxiWkE/v0Vr+xMeuJ9eAO0lmmsXUBdgPZRQLaJhCGIMM4cM+5e35a/yAW5IJckAtyQS7IBbkgF+QKI3k9Ljn3NvtmCoJckAtyQS7IBbkgV2arA6PYLzk3Wx2YgiAX5IJckAtyQS7IBbkgVxhIu27p87l/51btuqVP3VWGEuSCXJArDKTuKn1eeORWdVcZS5ALckEuyAW5IBfkglyQKwzstO246oELp23HX5RNw5CCXJArDKxsGq7ac6FsGqagLLo5/2HRzZmCIBfkglyQC3JBLsgVRvJx/8UUBbkgF+SCXJALckEuyAW5Xyd+HiXyVe2AAAAAAElFTkSuQmCC"},{seed:"orc-003",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCUlEQVR4AeXBoWoCcQDH8e9+/AfGhUUfQtwb7AUsFtuVpb3HnuNYWbEIaxbLqg9gtlkWRISFrd6BDGR34+D7+dw8zxbfiAW5IBfkglyQC3JBLsgFuULPFp9jmt7u9gxJkAtyQS7IBbkgF+TKcbKjV5sxTcfJjiEJckEuyAW5IFfoSD2rueRj88o16lnNb6pVRZeCXJALcoWOVKuKS5545BrVquI/BbkgF+SCXJALckEuyBU6Nl2eabmnZbo88xfb+YguBbkgV+jYdj6i6WFDy3Y+YkiCXJALckEuyJXD+kSvbmk5rE8MSZALckEuyAW5IBfkCj17+XpnyIJckAtyQS7IBbkgF+SC3A94ECRcOZn3sQAAAABJRU5ErkJggg=="},{seed:"orc-004",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA80lEQVR4AeXBIU4DUQBF0cvLXwgS06S7QM5IcN8h2ECXwDImKGRHsoXacV1HXZtMbWsQ8IdMcs95eO9eZ8SCXJALckEuyAW5IBfkglxhZT5evrm1+3pmSUEuyAW5IBfkglyQK6ftkTU7bY8sKcgFuSAX5IJcoZGhG/hJHSu/MXQDt+pYaSnIBbkgV2ikjpUl1LGypCAX5IJckAtyQS7IFRrb7C/8yY47m/2FW1NfaCnIBblCY1NfaGnqC0sKckEuyAW5IBfkyvkwsypP3DkfZpYU5IJckAtyQS7IBbnCyrx9PvKfglyQC3JBLsgFuSAX5ILcFSkVIPj17/d2AAAAAElFTkSuQmCC"},{seed:"orc-005",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBIW7CYACG4Xdf/h1hGr+JIWd2DHwVpoJbzFdgqjjEHIZkJ0HXY0rC7CpGwlYKyfs8D6/PbyfEglyQC3JBLsgFuSAX5IJc4Q6sn975qe6+mEqQC3JBLsgFuSAX5Mp80XNzOwbmi56pBLkgF+SCXJALckEuyBVGslmuOKdqG/5is1xxTtU2/EeQC3JBrjCSqm24hqptuKYgF+SCXJALckEuyAW5IBfkCiM7rvdc7IWB43rPb0o9Y0xBLsgVRlbqGRfbMVDqGVMp3fbAzT0y0G0PTCXIBbkgF+SCXJALcoU78NF/citBLsgFuSAX5IJckAtyQe4bF4Qg4Y7W6YIAAAAASUVORK5CYII="},{seed:"orc-006",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7ElEQVR4AeXBoTZDAQCA4d9/7llekLwAUfIKokq7aUVQBQ+gri4tSroXWfAMgrBOpThn3IX5v+/o9urmgzCJkziJkziJkziJkziJG9jR4/ULX90/XXLIJE7iJE7iJE7iJG7Ynr/yF9vzVw6ZxEmcxEmcxEmcxEmcxA1MZL244yfjaslvrBd3/GRcLfkLiZM4iRuYyLhasg/jask+SZzESZzESZzESZzESZzEDUxsvn5jn97HY6YkcRI3zDczdnLGN/PNjG8uTtin+YZJSZzESZzESZzESdzAjh6eT/lPJE7iJE7iJE7iJE7iJO4TzWwaOSyblOsAAAAASUVORK5CYII="},{seed:"orc-007",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/ElEQVR4AeXBIU4DUQBF0cvLT3VVTT0QDJUI9lBV/9N1gMKxiGZWQDJ7YA0VmKox3UIFBNciMP1DSu45V/d3D5+IBbkgF+SCXJALckEuyAW5woV6f/7g2OPLNWMIckEuyAW5IBfkglxZrA78B4vVgTEEuSAX5IJckCs00i07flP7yjm6ZcdPta+cK8gFuSBXaKT2lTHVvjKGIBfkglyQC3JBLsgFuSAX5IJcobH5Zk8Tr5yYb/Z8G9YzWgpyQa7Q2LCe0caOY8N6xhiCXJAr0+2Ei3TLiel2whiCXJALckEuyAW5IFe4UE9vN/yFIBfkglyQC3JBLsgFuSD3BWoGHRmplfkFAAAAAElFTkSuQmCC"},{seed:"orc-008",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA50lEQVR4AeXBMS4EYQBA4eflP8A2SoVWIpQaZ6DRT+88+j2C7ZQSvcYJ1I5AQotCIjtTTN73HZydXHwSJnESJ3ESJ3ESJ3ESJ3GDGdwdXvLd7dsTayFxEidxEidxEidx4/zmnb098sP5zTtrIXESJ3ESJ3GDBWyvtvw27Sb+a3u15S/TbmJfEidxEjdYwLSbmMO0m1iaxEmcxEmcxEmcxEmcxA0WcHr/wVJergdzkjiJGyzg5XqwFhIncRIncePodcPcjl43rIXESZzESZzESZzEDWbwcPzMWkmcxEmcxEmcxEmcxEncF5vxGayW9uuAAAAAAElFTkSuQmCC"},{seed:"orc-009",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/0lEQVR4AeXBsUkDYQCG4TcfvxtkgdQxlZ2FiBCwzAam8dr0Nnb2aWNzIziBpNEBvDGSDRQi6WIjCP/Byfs8o6vL2wNiQS7IBbkgF+SCXJALckGuUNnT2YxTD58dQxbkglyQC3JBLsgFuTKZ76hqyw+T+Y4hC3JBLsgFuSBXqKRtVhy9bTtOtc2Ko+VmzV+0zYrfLDdraghyQS7Ije4eLw5UdL+94dTz9StDFuSCXJALckEuyAW5IBfkglyQK/Rs9vJFTd2iUFOQC3KFnnWLwpAFuSBXpvsxfZruxwxZkAtyQS7IBbkgF+QKlb2ff/CfBLkgF+SCXJALckEuyAW5b+FWH8xp6wfaAAAAAElFTkSuQmCC"},{seed:"orc-010",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCElEQVR4AeXBsUpCYQCG4dePH6FNGgRx8goabGpoE1q6hkAQvACnlram5ggCr8izegcSKHUFga0npKA4yoH3eTrXVzd7xIJckAtyQS7IBbkgF+SCXOEEXs8LdbOPT9oiyAW5IBfkglyQC3JlNNlxdNWAutFkR1sEuSAX5IJckCs0ZDFf8aPZLX+xmK/4zdPLJU0JckEuyHXuHsZ7juy+GlD3OH6jLYJckAtyQS7IBbkgV2jYcLnlwMWAuuFyy39tpn2aFOSCXKFhm2mfAxXfbKZ92iLIBbkgF+SCXJArvXWXU+utu7RFkAtyQS7IBbkgF+QKJ/B89k5bBbkgF+SCXJALckEuyAW5L2mUHxT7kIBfAAAAAElFTkSuQmCC"},{seed:"orc-011",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7ElEQVR4AeXBsUlDUQBA0evlDRAkjYWFO6SysBMcI43gABkjAwRsBNfRIawVsbMRtE2joH6Fzz3n4Oz04p0wiZM4iZM4iZM4iZM4iRv8wvXhYN/l8xtzI3ESJ3ESJ3ESJ3Hj5PyRH7s/Yt/J+SNzI3ESJ3ESJ3ESN5jQ5uqOz2x3K75jc3XHV7a7FVOQOImTuMGEtrsVU9nuVvwHiZM4iZM4iZM4iZM4iRtMbHHzxF96WS+ZksRJ3GBiL+slcyJxEidx4/hhwVSOHxbMjcRJnMRJnMRJnMQNfuF2+crcSZzESZzESZzESZzESdwHQ4MZtWziv1oAAAAASUVORK5CYII="},{seed:"orc-012",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA5UlEQVR4AeXBsUlDUQBA0evljaB1eiNoaeMYLpHfZZB0cR5BcAA3sNYNImirICLkK3zuOSeX59fvhEmcxEmcxEmcxEmcxEnc4Ej7sxs+m14eWBKJkziJkziJkziJG1e3B45yzxdXtweWROIkTuIkTuIGM9tv7/jOtNvwW/vtHT+ZdhvmInESJ3GDmU27Dceadhv+i8RJnMRJnMRJnMQNZva2f+YvjWnFnCRO4gYzG9OKJZE4iZM4iZM4iRvr11PmtH49ZUkkTuIkTuIkTuIkbnCkx4snlkziJE7iJE7iJE7iJE7iPgAFFhlObVOqDQAAAABJRU5ErkJggg=="},{seed:"orc-013",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBoU5CYQCG4ddv/wWcQKU6ZxGbwdugk89pdJNFy2mQuQ27V2GjE9iIBK0QYLr9O8ftfZ6bh/unb8SCXJALckEuyAW5IBfkglxhQJ8vX5x6fr1lbEEuyAW5IBfkglyQK7P5kbHM5kfGFuSCXJALckGuUMlqueaarm/5rdVyzTVd31JLkAtyQa5QSde31NL1LUMJckEuyAW5IBfkglyQK1TWbHZc9MaZZrPjr/aLCTUFuSBXqGy/mHDZgVP7xYSxBbkgF+SCXJAr023DYO44M902jC3IBbkgF+SCXJALcoUBvX888t8EuSAX5IJckAtyQS7IBbkfbjodfAcY99kAAAAASUVORK5CYII="},{seed:"orc-014",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCklEQVR4AeXBIU5CcQDH8S+//Q9AIHIDZGOzGJ0XkEoyWaRxAW9gg+IBLAZO4F4yO2lkI8FAZNNpehSDe8899/18evPL2QdiQS7IBbkgF+SCXJALckGu0JLZ+5C6h/4bXRTkglyQC3JBLsgFubKfbGlFNaRuP9nSRUEuyAW5IBfkglyQC3JBrtCQ5WJF3Uv1yG8sFyt+Mr+7oUlBLsgFud7V7ekHLbiuLqi7P3+ii4JckAtyQS7IBbkgF+QKDRuvD3zrc2S8PtCEzbTQpCAX5AoN20wLX84qjmymhS4KcmW0G/AXRrsBXRTkglyQC3JBLsgFuUJLnk9e+Q+CXJALckEuyAW5IBfkgtwnc1QiqVSdPUcAAAAASUVORK5CYII="},{seed:"orc-015",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+klEQVR4AeXBsUkDYQCG4dePvzisdQkbQ2xs3CJZ4q7LINddpsgKQsAuRRZxgcAVSWsgCIaf8+B9nofXl/czYkEuyAW5IBfkglyQC3JBrjATw/MHP3XfX0whyAW5IBfkglyQC3JlsR6ZhT1XFuuRKQS5IBfkglyQC3JBLsgFuUIlw2bLb7q+5S+GzZZbur6lpiAX5IJcoZKub6mp61umEOSCXJALckEuyAW5QmXL3Ym7PHFluTtxy3HVUFOQC3KFyo6rhnu87blyXDVMIcgFuTIezszReDgzhSAX5IJckAtyQS7IFWZi+/jJfwhyQS7IBbkgF+SCXJALchfcTyC8Jy8G0gAAAABJRU5ErkJggg=="},{seed:"orc-016",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBMU4CUQBF0evLXwAFiVuwZBeWlmpHPdNRuQSqaQzUlG7BsBO2AMUkElptoQGjg9/knnPTPjx/IhbkglyQC3JBLsgFuSAX5AoVzJ/eOfbydk8tQS7IBbkgF+SCXJAr+8mG2vaTDbUEuSAX5IJckCsMZDFbck7bNfzEYrbknLZr+I0gF+SCXGEgbddwDW3XcE1BLsgFuSAX5IJckAtyQa4wsNFqx0VzToxWO76rn44ZUpALcoWB9dMxl31wrJ+OqSXIBbkgF+TKdn3gz91xYrs+UEuQC3JBLsgFuSAX5AoVPL7e8l8EuSAX5IJckAtyQS7IBbkv230hpD5izc8AAAAASUVORK5CYII="},{seed:"orc-017",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6ElEQVR4AeXBoU1DUQBA0cvNC7oKRdIVugm6K/Q7BqkrKyBYAsEMiDoSBkAgScBWEQq/otxzLqab9SdhEidxEidxEidxEidxEjc4wvrtmkP3i1fOncRJnMRJnMRJnMSN99WeH3u85tD7as+5kziJkziJk7jBTHa3d3xn2m74jd3tHd+Zthv+QuIkTuIGM5m2G05h2m44JYmTOImTOImTOImTOImTOIkbzOxj98IpjWnJnCRO4gYzG9OScyJxEjcWz5f81uL5knMncRIncRIncRIncYMjPFw98d9InMRJnMRJnMRJnMRJ3Bf9sxorUwcLhQAAAABJRU5ErkJggg=="},{seed:"orc-018",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+ElEQVR4AeXBsU0CYQCG4dcvfyisrpERKEyIlDTuYMMSdx2DXHcsYcMIJrqBCQvQ6QiQSMs1Nvwkl7zP8/DyvP5DLMgFuSAX5IJckAtyQS7IFSZseHrlWvf7SW1BLsgFuSAX5IJckCurzYnJ+mBktTlRW5ALckEuyAW5IBfkglyQK1QybHf8p+tbbjVsd1zr+pZbBbkgF+QKlXR9y711fUttQS7IBbkgF+SCXJALckEuyBUqW+7PVNMwstyf+X4r1BTkglxpDjNqOi5m1LL+YeS4eKQ5UFWQC3JBLsgFuSAX5AoT9j7/4t6CXJALckEuyAW5IBfkgtwFA3EdKAA1SLMAAAAASUVORK5CYII="},{seed:"orc-019",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABDUlEQVR4AeXBsUpCYQCG4deP393JRRzaXKNR2lqa2lsCGwJt8gaaa3BKoSEvI2juJtpE0MWbsCk4LkF0hBPv87SuL672iAW5IBfkglyQC3JBLsgFucIRvNx+UHX3ek5TBbkgF+SCXJALckGutIcbjq093NBUQS7IBbkgF+SCXJALcoWazKcLvu3fLqmaTxdMZmN+az5d8JPJbMxfBbkgF+RaNw9ne2r2PFhRdf95QlMFuSAX5IJckAtyQS7IBbkgV6hZb7mDJw70ljvqsh11qVOQC3KFmm1HXWBF1XbUpalKf92hdgMO9NcdmirIBbkgF+SCXJALcoUjeHw/5b8IckEuyAW5IBfkglyQC3Jf1uEi6ZtT1PMAAAAASUVORK5CYII="},{seed:"orc-020",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBsU0CYQCG4dcvPxuQaxiB2orY2dNb/cHCXVzAWEhuhZtB96CBhrADtthcgh53Ju/z3D09rs+IBbkgF+SCXJALckEuyAW5wsTenz+59PLxwJiCXJALckEuyAW5IFdmqz3/yWy1Z0xBLsgFuSAX5IJckCsMpF239Kld5TfadUuf2lX+IsgFuSBXGEjtKrdQu8otBbkgF+SCXJALckEuyAW5IBfkCgNbbI9c5ZUfFtsjfQ6bhiEFuSBXGNhh03CdHZcOm4YxleVpzrR2XFqe5owpyAW5IBfkglyQC3KFib193TOlIBfkglyQC3JBLsgFuSD3DcGrHjHNHIjKAAAAAElFTkSuQmCC"},{seed:"orc-021",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBIU7DYACG4Xdf/oOAmyFZwgGQyE6Cog4BB8BhOQAHaFBIJrnC7AzMcIm6kRRFUgwJyd+k5H2exU1zOSAW5IJckAtyQS7IBbkgF+QKFT1cvDJ293zO3AW5IBfkglyQC3JBrvSrPVPpV3vmLsgFuSAX5IJckCtU0jUd/fsZY13T8a3dtPxF13T8pt201BDkglyQW1zdnw5U8rj8YOz27Zi5C3JBLsgFuSAX5IJckAtyQS7IFSZ08vJJbbt1oaYgF+QKE9qtC3MX5MphO1DNkh8O24G5C3JBLsgFuSAX5IJcoaLrpyP+myAX5IJckAtyQS7IBbkg9wUuuyNGU87/MAAAAABJRU5ErkJggg=="},{seed:"orc-022",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBIU4DUQBF0cvLx6NqWsUKupPRdT+17INlNOPQk+Bquo5qxrQG0dQgQJG0CASdIZPcc+6emtUnYkEuyAW5IBfkglyQC3JBrjBBq/cFl14e3hhLkAtyQS7IBbkgF+TKablncnYLLp2We8YS5IJckAtyQS7IBbnCQNqm5Te1q/xV27T8VLvKEIJckAtyhYHUrjKW2lXGEuSCXJALckEuyAW5IBfkglxhYPPNgZs9cmW+OfCtX88YUpALcoWB9esZN9txpV/PGEuQK8ftmcm558pxe2YsQS7IBbkgF+SCXJArTNDzxyv/JcgFuSAX5IJckAtyQS7IfQFQLCMN+EtlIAAAAABJRU5ErkJggg=="},{seed:"orc-023",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBIU4DUQBF0cvLTzMIkiZVSLbQDVCJaFLTBfw9sA4sehZQMwvpyG6hCoWpA9sxmP4mQ+45D9vX7Q9iQS7IBbkgF+SCXJALckGuMGMfT0y8f9NckAtyQS7IBbkgF+TKanNmto7PXFttzrQW5IJckAtyQS7IBblCI/2u5y91qNyq3/Vcq0PlVkEuyAW5QiN1qNxbHSqtBbkgF+SCXJALckEuyAW5IBfkCo2tDxeaeWFifbgw7jtaCnJBrtDYuO9o5e3IxLjvaK0sTwv+i+VpQWtBLsgFuSAX5IJckCvM2OfjF/cW5IJckAtyQS7IBbkgF+R+AfKrHGb5nDDRAAAAAElFTkSuQmCC"},{seed:"orc-024",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABDElEQVR4AeXBsU1CUQCG0Y8/t7XRisIRqBhABsDABr4VjJU2dnbu8EaAmhmo6EysKUhsTKhIsDLhNSbGS/LMd85gejM9IhbkglyQC3JBLsgFuSAX5Apn8HpBx8MnvRXkglyQC3JBLsgFuXI12VLdesipq8mWvgpyQS7IBbkgF+QKlbSzlm9v60dOtbOWZtnwW+2s5SfNsuGvglyQC3KDu+fxkcqe1kNOvYy39FWQC3JBLsgFuSAX5IJckCtUNloc4JqO0eJALZt5oaYgF+QKlW3mhds1HZt5oa+CXJALcmW32lPdJR271Z6+CnJBLsgFuSAX5IJc4QzuP975L4JckAtyQS7IBbkgF+SC3Be69yZgSgr5xwAAAABJRU5ErkJggg=="},{seed:"orc-025",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBsU3DUABF0cvTH8BCblKkyAAsQEEXiS4r/IapaCwxgQfJEKkTIXc0SNCaJkHg8JHuOTcP948fiAW5IBfkglyQC3JBLsgFuUIDz7eFuafXd1oJckEuyAW5IBfkglzZbI/8uf2Kuc32SCtBLsgFuSAX5IJckAtyhYUMu4Fz6lj5iWE3cE4dK78R5IJckCsspI6Va6hj5ZqCXJALckEuyAW5IBfkglyQKyysG05cdLdirhtOfNdUe5YU5IJcYWFT7blozxdT7WmlrA8dra0PHa0EuSAX5IJckAtyQa7QwEv/xn8R5IJckAtyQS7IBbkgF+Q+AV/eHfo8aflpAAAAAElFTkSuQmCC"},{seed:"orc-026",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA50lEQVR4AeXBoU1DUQBA0cvNSzUJCRbdKWAAElb4vgswAgvg61F/AwQzgEZ1CRKwVYTCryj3nLPb69tPwiRO4iRO4iRO4iRO4iRucIB71ux74I1TJ3ESJ3ESJ3ESJ3Hj4mbHjz2v2Xdxs+PUSZzESZzESZzESZzEDRayvdvynWme+I3t3ZbvTPPEX0icxEncYCHTPHEM0zxxTBIncRIncRIncRIncRIncYOFfTy+c0xjc8WSJE7iBgsbmytOyTh/XfFb568rTp3ESZzESZzESZzEDQ7wdPnCfyNxEidxEidxEidxEidxX5tnF5CU4+pAAAAAAElFTkSuQmCC"},{seed:"orc-027",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABBUlEQVR4AeXBsUpCYQCG4beP/wIkQhBx8AraG9qELuMgZKN7d+FqIEJb9+INtDm4KLS2BAVOp6VBfuXE+zxX93cP34gFuSAX5IJckAtyQS7IBbnCmbxcF9oeP77ooiAX5IJckAtyQS7IlfHkwFlsBrSNJwe6KMgFuSAX5IJckCtUsp7NaXt/euMU69mcvzTLBTUFuSAX5AqVNMsFbc8MOEWzXHBJQS7IBbkgF+SCXJALcoXKhqs9R7cD2oarPTXspn1qCnJBrlDZbtrnaMMvu2mfLgpyQS7IBbky2va4hNG2RxcFuSAX5IJckAtyQa5wJq83n/wHQS7IBbkgF+SCXJALckHuBzpDHxykfg68AAAAAElFTkSuQmCC"},{seed:"orc-028",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/ElEQVR4AeXBsU0CYQCG4dcvv70FC1Dj9cbCjsSSEa6ipXcA+2uvYgRGoHIAbwzYQBJtvQIjyZ+D5H2eu5fn12/EglyQC3JBLsgFuSAX5IJc4Qa83zf89vY1MJUgF+SCXJALckEuyJX58sDV7RmZLw9MJcgFuSAX5IJckAtyhUq26w1/afuO/9quN5zT9h01BbkgF+QKlbR9Ry1t3zGVIBfkglyQC3JBLsgVKmt2Jy72wEizO3HOsCrUFOSCXKGyYVW41NOekWFVmEqQC3JBLsiVxXHGrVkcZ0wlyAW5IBfkglyQC3KFG/Dx+Mm1BLkgF+SCXJALckEuyAW5H4SrHhAP44j3AAAAAElFTkSuQmCC"},{seed:"orc-029",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA8ElEQVR4AeXBMWoCUQBF0ZvnF7ICIbgU2/TpUw0Wti4huIRppwiuR8guNEVWEBAZW5MiBGa+MNxzHl6fX3rEglyQC3JBLsgFuSAX5IJcYQRvjxdu7b5nTEWQC3JBLsgFuSAX5Mp8dWSwjyduzVdHpiLIBbkgF+SCXJALckGuUMF+s+W3pmv5r/1my1+armUsQS7IBblCBU3XMkTTtdxLkAtyQS7IBbkgF+QKFSzfv6jltF4wpiAX5AoVnNYLpiLIBbkgV86HnsFm/HA+9ExFkAtyQS7IBbkgF+QKI9hdPpmqIBfkglyQC3JBLsgFuSB3BW8SHgxGs1pgAAAAAElFTkSuQmCC"},{seed:"orc-030",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7ElEQVR4AeXBITJEAQCA4d8/7wCSYlRjFDTBNVxAfNt0SVK2Ed1DdwptwxZX2ECl7Oyst8H+33dwcX79RZjESZzESZzESZzESZzEDWzo/eGDn24eT9kHEidxEidxEidxEjdc3q7YxuXtin0gcRIncRIncRIncQMTeb5/YZ3ZfGQbz/cvrDObj/yFxEmcxA1MZDYf2YXZfGSXJE7iJE7iJE7iJE7iJE7iBiZ2/PrJLi3vjpiSxEncwMSWd0f8JxI3nCwO2cgZv5wsDtkHEidxEidxEidxEjewoae3K/aRxEmcxEmcxEmcxEmcxH0D8McY+uaoo18AAAAASUVORK5CYII="},{seed:"orc-031",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA90lEQVR4AeXBIU7DYACG4Zcv/wEmikczEiYxHGO+unU7SN2md5QlJByAa1AxPwGWmqWEkn/J+zx3z48vX4gFuSAX5IJckAtyQS7IBblCJfv7V37qP9+oIcgFuSAX5IJckAtyZbO9UMWJic32Qg1BLsgFuSAX5IJcYSH73YFr+qHjt/a7A9f0Q8dfBbkgF+QKC+mHjqX1Q8d/C3JBLsgFuSAX5IJckAtyQS7IFRa2Oo7M8sDE6jgyx7ltWFKQC3KFhZ3bhllOTJzbhhqCXFmPDbdgPTbUEOSCXJALckEuyAW5QiXvTx/cgiAX5IJckAtyQS7IBbkg9w2n5R4EjN7pagAAAABJRU5ErkJggg=="},{seed:"orc-032",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAklEQVR4AeXBoUpDYQCG4XcffzKZVtxFDLwB8QbMS8LAsrVzA97B2k4RrBZvQVleMi+7YjKsLRxZO0kQ/sGR93lGy7tZh1iQC3JBLsgFuSAX5IJckCtUNvue0Pdy+cmQBbkgF+SCXJALckGuHKY7qtpM6DtMdwxZkAtyQS7IBbkgF+QKlayblpOPzSt966blZLla8BfrpuU3y9WCGoJckAtyo/vH646KHja39D3dvDNkQS7IBbkgF+SCXJALckEuyAW5wpldPX9R034+pqYgF+QKZ7afjxmyctx2nNNx2zFkQS7IBbkgF+SCXJArVNZevPGfBLkgF+SCXJALckEuyAW5H51OJKLZhZJlAAAAAElFTkSuQmCC"},{seed:"orc-033",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAUlEQVR4AeXBMUoDUQBF0ZvHX4DF2FsbwYCNjSDuIbU2NpkuG3AH6SaNjQtwDTIgWIvbMIV9iki6sRGEHxi550zOTy93iAW5IBfkglyQC3JBLsgFucLIdcdXDLWfr9QU5IJckAtyQS7IBbkym28ZtZ4fZvMtNQW5IBfkglyQC3JBLsgVKumWa37Trhb8Rbdcs/fePzPULdfstasFNQS5IBfkJrcPFztG7L6/Yejx+oWaglyQC3JBLsgFuSAX5IJckCtUdvS0oaoTDirIBblCZV93DVX1HFSZbhr+k+mmoaYgF+SCXJALckEuyBVG7u3sg0MKckEuyAW5IBfkglyQC3LfNmgfwBUewRwAAAAASUVORK5CYII="},{seed:"orc-034",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBIVICYQCG4dfPH0Yb1eARaNuoVEeyJ+AAdMe+2dljcBBIzHACqt2Ao2MDg4V/nXXe57l6mj9+IhbkglyQC3JBLsgFuSAX5AoD9XzzwamX92v6EOSCXJALckEuyAW5MpodGKTtHadGswN9CHJBLsgFuSAX5IJckCtUslpu+E3bNVxitdzwU9s1XCrIBbkgV6ik7Rr61HYNfQhyQS7IBbkgF+SCXJALckGuUNl0faSKe85M10e+7RaFmoJckCtUtlsUanjYcma3KPShTPZj/oPJfkwfglyQC3JBLsgFuSBXGKjX2zf+QpALckEuyAW5IBfkglyQ+wL4aR0cwPGZogAAAABJRU5ErkJggg=="},{seed:"orc-035",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA70lEQVR4AeXBsU1CUQCG0c8/t6Cxkco1zOtlAEqGoDUyxrN/Q7gBKyAbWFOQ2JAQO22hMTHcW9x859wtn5c/iAW5IBfkglyQC3JBLsgFuUIlb/dceT3RhSAX5IJckAtyQS7IlfniQBUfj1yaLw70IMgFuSAX5IJckAtyQa7QyGa949I4DfzXZr3jL+M0cKsgF+SCXKGRcRq41TgNtBbkglyQC3JBLsgFuSAX5IJcoZGn929a2K9m1BTkglyhkf1qRg/KcXumigeuHLdnehDkglyQC3JBLsgFuUIlL1+f9CjIBbkgF+SCXJALckEuyP0Cmp0cINcz5AIAAAAASUVORK5CYII="},{seed:"orc-036",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBMUrDYACG4deP/wBFXDqU0DtkEAe3ghcRCll7jKyFgKPXaQ+RueDqUtC1LoFqmgjv89w9P718IRbkglyQC3JBLsgFuSAX5Aoze7svXHr9ODOlIBfkglyQC3JBLsiV9ebErI5LLq03J6YU5IJckAtyQS7IFUay2x4Y0nY1v7HbHhjSdjV/EeSCXJArjKTtam6h7WpuKcgFuSAX5IJckAtyQS7IFUZ23vdc5XHJpfO+Z0hpKsYU5IJcYWSlqbjKkR9KUzGlIBfkglxZ9Qv+k1W/YEpBLsgFuSAX5IJckCvM7P3hkzkFuSAX5IJckAtyQS7IBblvKrMc/QgcuRcAAAAASUVORK5CYII="},{seed:"orc-037",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6klEQVR4AeXBq02DYQBA0cvNlya4hmCQrIHAkTAGBtM6BqlrDYaFsCzBIwxAAraqSeGvKPeck+ur22/CJE7iJE7iJE7iJE7iJG6wp8ezwbb7jy+OmcRJnMRJnMRJnMSNy5tX9vJ8wbbLm1eOmcRJnMRJnMRJnMQNJrJ+2LDLcrXgN9YPG3ZZrhb8hcRJnMQNJrJcLTiE5WrBIUmcxEmcxEmcxEmcxEmcxEncYGLzpzcO6fPunClJnMQNJvZ5d84xGfOXGX8xf5lxzCRO4iRO4iRO4iRusKfN6Tv/icRJnMRJnMRJnMRJnMT9AFelGWX9rQ8gAAAAAElFTkSuQmCC"},{seed:"orc-038",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABB0lEQVR4AeXBsUkDYQCG4TcffysEYpPiRkiVAcwAEdJb2GsXOxsLwU67ZIEskEVS3QQpJANY2ARimwMRxDs5eJ9nML+anxALckEuyAW5IBfkglyQC3KFjr1e0PDwQa8EuSAX5IJckAtyQa6MZgc6tRtzbjQ70CdBLsgFuSAX5IJckCu0ZLVc8533m2d+Y7Vc85P7tzvaFOSCXJAb3D5NT3TocTfm3Mv0QJ8EuSAX5IJckAtyQS7IBblCyybbIw0VDZPtkb+oF4U2BbkgV2hZvSicu97RUC8KfRLkglyp9kP+U7Uf0idBLsgFuSAX5IJckCt0bHP5SZ8FuSAX5IJckAtyQS7IBbkvyVwfVSneabUAAAAASUVORK5CYII="},{seed:"orc-039",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBMUrDYACG4deP/wRSCqWDdO7g7uBW8BwBl2TrQbK1i9A7eJAeI0tbegEFXePiYBMJvM9z9/z08oVYkAtyQS7IBbkgF+SCXJArTMzbfaHv9frJmIJckAtyQS7IBbkgV1abM5NyXNC32pwZU5ALckEuyAW5IBfkglxhILvtnt80bc1f7LZ7+pq2ZkhBLsgFucJAmrZmDE1bM6YgF+SCXJALckEuyBUGtjycuMnjgr7l4URfV80ZUpALcoWBddWcmxz5oavmjCnIBbkgV9aXGVO2vswYU5ALckEuyAW5IBfkChPz/vDBfwpyQS7IBbkgF+SCXJALct/qrB4wS2ec6gAAAABJRU5ErkJggg=="},{seed:"orc-040",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/klEQVR4AeXBIU4DUQBF0cvLX8CIMYgaJAmhYgQbKXpkF9BlzAJGNsGxlnYLJPUVdRUVEFybEEz/kJJ7zt3z48snYkEuyAW5IBfkglyQC3JBrnCj3h9azr1+7JlCkAtyQS7IBbkgF+TKfHHiJm25MF+cmEKQC3JBLsgFuSAX5AqVrJYbfjOMHddYLTf8ZBg7rhHkglyQK1QyjB1TGsaOKQS5IBfkglyQC3JBrlBZs95TxdM955r1nm+HvqWmIBfkCpUd+pYqtlw49C1TCHJBLsgFuTLbNfwHs13DFIJckAtyQS7IBbkgV7hRb+2RvxDkglyQC3JBLsgFuSAX5L4Aor8d3qpKjCwAAAAASUVORK5CYII="},{seed:"orc-041",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA50lEQVR4AeXBsUkEUQAA0XH4GF+iRQjihSbW4CXmm1uP+eUmXgeCdiDYhCUoaKogItwqLPPewdnJ+TthEidxEidxEidxEidxEjfY083RBZ9dvzywJBIncRIncRIncRI31lev7OWeL9ZXryyJxEmcxEmcxEncYGbbyy3fmXYTv7W93PKTaTcxF4mTOIkbzGzaTexr2k38F4mTOImTOImTOIkbzOz07o2/9LQZzEniJG4ws6fNYEkkTuIkTuIkbqyeD5nT6vmQJZE4iZM4iZM4iZO4wZ5ujx9ZMomTOImTOImTOImTOIn7ACjDGUaAijDvAAAAAElFTkSuQmCC"},{seed:"orc-042",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBMWoCUQBF0ZvHX4CFCEFsUqbRMruwMvXHhclAunSzELcQsLCR9CksklabIYHPTOCe87B+fvlGLMgFuSAX5IJckAtyQS7IFUb2/jTn1uvHJ1MKckEuyAW5IBfkglzZ7K6M6sidze7KlIJckAtyQS7IFRrpth1Dal/5jW7bMaT2lZaCXJALcoVGal9pofaVMQW5IBfkglyQC3JBLsgFuUJjy8OFQetHbi0PF/7ivF/QUpALcoXGzvsFg47cOe8XTCnIBbkgF+TK6jRjSqvTjCkFuSAX5IJckAtyQa4wsrf5F/9JkAtyQS7IBbkgF+SCXJD7Af2+Hgs7iuEuAAAAAElFTkSuQmCC"},{seed:"orc-043",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABB0lEQVR4AeXBMUrDYACG4bef/yoU6dJDCIUepLOT2QXBURc3D+AJcgXnniEXKDg7tEjA0k0qdEoXFxOIvM8zuVvdHBELckEuyAW5IBfkglyQC3KFgdx/f9H1enHJGAW5IBfkglyQC3JBruwXGwbRzOnaLzaMUZALckEuyAW5IBfkglyQK/SkXtV0bZpH/qJe1fymeqvoQ5ALckFucvu8PDKAp2ZO18vygzEKckEuyAW5IBfkglyQK/RsWu84uZ7TNa139KGtZvQpyAW5Qs/aasZJw5m2mjFGQa5s1wcGccWZ7frAGAW5IBfkglyQC3JBrjCQh893/oMgF+SCXJALckEuyAW5IPcD/aImPXGHKbAAAAAASUVORK5CYII="},{seed:"orc-044",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBMUoDUQBF0evzE7AQ0qaaLaR0F6ntfj/gYoRYzxZmIWlTpMsCrEwZ0TaCBAyfceCec9dvnr8QC3JBLsgFuSAX5IJckAtyhZl4+fzg0uv9I1MIckEuyAW5IBfkglw5rQ/Mwm7FpdP6wBSCXJALckEuyAW5IBfkglyhkWEzcE0dK38xbAauqWOlhSAX5IJcoZE6VlqqY2UKQS7IBbkgF+SCXJArNHbeHrnJ04pL5+2R35S+o6UgF+QKjZW+4yY7fih9xxSCXJAry/2COVruF0whyAW5IBfkglyQC3KFmXh7eOc/BLkgF+SCXJALckEuyAW5byF/HnYXncybAAAAAElFTkSuQmCC"},{seed:"orc-045",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/0lEQVR4AeXBoU0DYQCG4Zcv/yU3ADN0gCJr8TWnUL9mEEZA3wA1l+BqOkEHQNfVN00qwLYIBL0jl7zP8/DyvP5CLMgFuSAX5IJckAtyQS7IFWbm9bLg2nvzyZSCXJALckEuyAW5IFea1YFZ2S241qwOTCnIBbkgF+SCXJALckEuyBVG0q97flOHyl/0656f6lAZS5ALckGuMJI6VKZQh8qUglyQC3JBLsgFuSAX5IJcYWTLzZm7PHJjuTlzbd+1jCnIBbnCyPZdyz2edtzYdy1TKsftiVlpuHHcnphSkAtyQS7IBbkgF+QKM/N2+eA/BbkgF+SCXJALckEuyAW5bwQVIS8lHg7uAAAAAElFTkSuQmCC"},{seed:"orc-046",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABBElEQVR4AeXBsU0CYQCG4ZcvP3OgHb0lMTb29DaSWFDgDg6hFBYmFzdwBjom0IqQMIIdJGenh4WF3plL3ucZXF1Oa8SCXJALckEuyAW5IBfkglyhQ483K5rmT+f0TZALckEuyAW5IBfkynCy478MJzv6JsgFuSAX5IJckAtyQS7IFVpSTSu+e3+74DeqacVPZi8z2hLkglyQG1zfndV05GG8oen29ZS+CXJBLsgFuSAX5IJcoWWH5ZZP9xw5LLf8VVmMaFOQC3KFlpXFiC8bmspiRN8EuSBX9uuazow5sl/X9E2QC3JBLsgFuSAX5Aodmj+f0HdBLsgFuSAX5IJckAtyQe4DL3UiRXPzUPoAAAAASUVORK5CYII="},{seed:"orc-047",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAElEQVR4AeXBsU1CUQCG0c8/t2AAFqCmI9HCwo7ExIKGAW7s3cAtLGzfADSvcAMrC1ZgABiATlsoIJrcvGfynXPzcP/4jViQC3JBLsgFuSAX5IJckCsM6OPli1NPb3eMLcgFuSAX5IJckAtyZbbcM5bZcs/YglyQC3JBLsgVGulWHdfUvvIb3arjmtpXWgpyQS7IFRqpfaWF2leGFOSCXJALckEuyAW5IFdobLE5ctErZxabI3+1XU9oKcgFuUJj2/WES545t11PGFuQC3JBLsgFuTI/TBnOjlPzw5SxBbkgF+SCXJALckGuMKD3z1v+myAX5IJckAtyQS7IBbkg9wPGNB2gcWhoJQAAAABJRU5ErkJggg=="},{seed:"orc-048",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6ElEQVR4AeXBoU1DUQBA0cvNw3cBRAfoAggcCQ5G+HMwAHN0BL5DMgGmE6A7AiRgwTSk+ZCUe87Z1eXNB2ESJ3ESJ3ESJ3ESJ3ESNzjSw/mGr+7fdpwiiZM4iZM4iZM4iRvr6z1Heeab9fWeUyRxEidxEidxg4Vsb7ccMs0TP7G93XLINE8sSeIkTuIGC5nmiSVM88RfkjiJkziJkziJkziJGyxs8/jOb9rdDZYkcRI3WNjubnBKJE7iJE7iJG5cvK5YwsXrilMkcRIncRIncRIncYMjPa1f+A8kTuIkTuIkTuIkTuIk7hNxZxl9K1jedQAAAABJRU5ErkJggg=="},{seed:"orc-049",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA60lEQVR4AeXBoU0DAQBA0c/PgUbVgOkAeILANWGMBlFbzwD42gqCZwkEG5B0AwxoFAIsGATciea/d3B5cfVJmMRJnMRJnMRJnMRJnMQNjOT28Izvbj6e2QcSJ3ESJ3ESJ3ESN8wXb4zikR/mizf2gcRJnMRJnMRJnMRJ3MBE7ldrvltuN/zF/WrNb5bbDf8hcRIncQMTWW43jGG53TAliZM4iZM4iZM4iZM4iZM4iRuYyMndK1N4uZ4xJomTuOF4d8QU3s9PmcLxjlFJnMRJnMRJnMRJ3MBIHmZP7COJkziJkziJkziJkziJ+wJ1cxllaXg/8gAAAABJRU5ErkJggg=="},{seed:"orc-050",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABB0lEQVR4AeXBoUpDYQCG4Xcf//oJqwMtuwFtKyJ2u2GuWOyzegF2i2XsKkxyLmB4AbbB4sK6YdYdEEE8Rw68zzO4ubo+IBbkglyQC3JBLsgFuSAX5Aodu/+ccOx5+EGfBLkgF+SCXJALckGuDKdbOlVPODacbumTIBfkglyQC3KFlswWa75VP/Abs8Wan6yezmlTkAtyQW5w+3h2oEN39SXHXi7e6JMgF+SCXJALckEuyAW5IBfkglyhZdVyR8MJDdVyx1/s5yPaFOSCXKFl+/mIhpqG/XxEnwS5IFfGm4r/NN5U9EmQC3JBLsgFuSAX5Aodez19p8+CXJALckEuyAW5IBfkgtwXfhsfkyKuI00AAAAASUVORK5CYII="},{seed:"orc-051",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/klEQVR4AeXBIVICYQCG4ddvfsgkCgfQA2xjbHa6gYDBE9A8gXsCg4Q9gJewkqkWKFxCKxCckfnX2Zn3eW4eHxbfiAW5IBfkglyQC3JBLsgFucKAvD19cur5/Z6+BbkgF+SCXJALckGujOZ7hmo039O3IBfkglyQC3KFSpbrLb/p2oa/Wq63XOrahpqCXJALcoVKurahtq5t6FuQC3JBLsgFuSAX5IJckAtyhcpmmyNXe+XMbHPk0mE1paYgF+QKlR1WU673xanDakrfglyQC3JlshszGHecmezG9C3IBbkgF+SCXJALcoUBefm45b8FuSAX5IJckAtyQS7IBbkfoHkcnbJjkisAAAAASUVORK5CYII="},{seed:"orc-052",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7UlEQVR4AeXBIU4DUQBF0cvjtymuqglhKbV4fGXljOsGCBsY15HsCNsVtKYJHkPA1kAI8yH5uedcbe4fPhALckEuyAW5IBfkglyQC3KFCR4X71x6erumNUEuyAW5IBfkglyQK7P1kV97ueXSbH2kNUEuyAW5IBfkglyQC3JBrlDRfjfylX7o+In9buQ7/dBRU5ALckGuUFE/dEzVDx3/KcgFuSAX5IJckAtyhcruns/8pdN2RU1BLsgVKjttV7QkyAW5sjzMqWV5mNOaIBfkglyQC3JBLsgVJhhvXmldkAtyQS7IBbkgF+SCXJD7BAMuGTGnS8ZrAAAAAElFTkSuQmCC"},{seed:"orc-053",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCElEQVR4AeXBsUpCYQCG4devX2h0aHHwEpwcXVsj5xraa3NskQga2/QGugFv5ExegWB0CTUYtiqIRBxOB97n6dxcXu8QC3JBLsgFuSAX5IJckAtyhYbMzr/Z9/R1RhsEuSAX5IJckAtyQa50xxsaUfXZ1x1vaIMgF+SCXJALckEuyAW5IFeoyXy64JT322d+az5dcMrD6z11CXJBLsh17majHQ14rPrsexl90AZBLsgFuSAX5IJckAtyhZoNl1uOGnBguNzyF6tJoU5BLsgVaraaFI65qjiwmhTaIMiVwbrHfxise7RBkAtyQS7IBbkgF+QKDXm7+KSNglyQC3JBLsgFuSAX5ILcD0Y9ID+tm2P0AAAAAElFTkSuQmCC"},{seed:"orc-054",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABDUlEQVR4AeXBoUpDYQCG4Xcfv920siWvYOANiDdgXhIGFtd2AzajbSvCqsVoG8i5BPOyK1sxDIth1h0Qg54DB97n6U2vxgfEglyQC3JBLsgFuSAX5IJcoWXjjyHHnk7f6ZIgF+SCXJALckEuyJX9aE2rqiHH9qM1XRLkglyQC3JBrtCQ+WzBT96qZ/5iPlvwm+nDLU0IckEuyPWu784PtOimuuTY48UrXRLkglyQC3JBLsgFuSBXaNhguaXmjJrBcst/bCZ9mhTkglyhYZtJn5qKms2kT5cEuSAX5IJckCu71SetOqFmt/qkS4JckAtyQS7IBbkgV2jZ/dcLXRbkglyQC3JBLsgFuSAX5L4BoSUmEU3hzjQAAAAASUVORK5CYII="},{seed:"orc-055",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBMUoDUQBF0evzE7AQppgmixCyE2u71DNgkYVMISR1NpQ2RdYQIWBa0TaKCIY/MnDPuekfnz4QC3JBLsgFuSAX5IJckAtyhQl5fn/j0svtPWMLckEuyAW5IBfkglw5Lw5Mxm7OpfPiwNiCXJALckEuyAW5QiXr1Ybf9EPHX61XG37SDx21BLkgF+QKlfRDR2390DG2IBfkglyQC3JBLsgVKmu2R672MOdSsz3y3WnZUlOQC3KFyk7Llqvt+OK0bBlbkAtyQS7IBbnS7GdMVbOfMbYgF+SCXJALckEuyBUmZHP3yn8LckEuyAW5IBfkglyQC3KfAFcfJSH9nmgAAAAASUVORK5CYII="},{seed:"orc-056",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+ElEQVR4AeXBIW4CUQBF0duXvwPwaDKV48sCWAjJWESXUDGWZJaDqkLVVKMwLIGktSBKSvIzTHLPeVm/rX8QC3JBLsgFuSAX5IJckAtyhQl4Z8m1D74ZS5ALckEuyAW5IBfkymx14un2S67NVifGEuSCXJALckGuUMl2c+Cefmj5r+3mwD390FJLkAtyQa5QST+01NIPLWMJckEuyAW5IBfkglyQK1R22R15WMONy+7IX0q3oKYgF+QKlZVuwcP23CjdgrEEuSAX5IJckCvNec7UNOc5YwlyQS7IBbkgF+SCXGECPl+/eJYgF+SCXJALckEuyAW5IPcLe7gcBlSAIl8AAAAASUVORK5CYII="},{seed:"orc-057",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABBUlEQVR4AeXBoU5CYQCG4Zdvf2BWvAkq2GVmIt3kxgUwZ7MazM7NW+AWZCczRvUSyDY2wjHpwGDQc9zZ3ufpTS+nNWJBLsgFuSAX5IJckAtyQa7QojuGHHvgja4JckEuyAW5IBfkglwZTHa0phpybDDZ0TVBLsgFuSAX5AoNWcw3fPde3fIbi/mGnzw+X9CUIBfkglzv+n5c05Kb6opjL5MVXRPkglyQC3JBLsgFuSBXaNhouefLOSdGyz1/tZ31aVKQC3KFhm1nfT6NK05sZ326JsgFuSAX5IJcOaxr/sthXdM1QS7IBbkgF+SCXJArtOjp7JWuC3JBLsgFuSAX5IJckAtyH706IrVf+FjmAAAAAElFTkSuQmCC"},{seed:"orc-058",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+klEQVR4AeXBMU4CUQBF0evLdwf0E+rRbioLOxKXQkJL5QKspiWZ5VBZUekKqGEHkGgrBUSTnxmTe87d89PLF2JBLsgFuSAX5IJckAtyQa4worf7R356PX0ytSAX5IJckAtyQS7IlfniwGi2XJgvDkwtyAW5IBfkglyQC3JBLsgVKlkvd9zSDx2/sV7uuKUfOmoKckEuyBUq6YeOGvqhY0xBLsgFuSAX5IJckCtUdt7suarlwnmz56/KqqGmIBfkCpWVVcNVWy6UVcPUglyQK+1xxlTa44ypBbkgF+SCXJALckGuMKL3hw/+myAX5IJckAtyQS7IBbkg9w31Jhz0o7R9IgAAAABJRU5ErkJggg=="},{seed:"orc-059",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA7UlEQVR4AeXBMS4EAQBA0e9nii0lar2WbKXhAFtq3GAPsJeQ7AHmBhoXcAGVuIPKFXS0KESYkUz+ewebi80bYRIncRIncRIncRIncRI3MIHb7QMfXY/nLIXESZzESZzESZzEDUeXL0zt6PKFpZA4iZM4iZM4iZM4iZO4gRnsto98tR/X/MRu+8h39uOaKUmcxEncwAz245rf2o9r/pPESZzESZzESZzESZzEDczg7O6VuTxdrZiSxEncwAyerlYsxXD8fMifnfDJ8fMhSyFxEidxEidxEidxAxO4uT9lqSRO4iRO4iRO4iRO4iTuHTWjGGu4cM3UAAAAAElFTkSuQmCC"},{seed:"orc-060",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAElEQVR4AeXBIU4DUQBF0cvLX0BFE3ZACIaKEQi20WAru4BaFAYxDjOy+6hFdgVsoRVNmtRUgG3NBJKfGZJ7zs3jw9M3YkEuyAW5IBfkglyQC3JBrjCwz9cvLj2/3TGmIBfkglyQC3JBLsiV2fzMmGbzM2MKckEuyAW5IFeoZLXc0qftGn5rtdzSp+0aaglyQS7IFSppu4Za2q5hKEEuyAW5IBfkglyQC3JBLsgFuUJlk/WeXu9cmaz3/MVhMaWmIBfkCpUdFlP6Hbl0WEwZU5ALcmW3OTGoe67sNifGFOSCXJALckEuyAW5wsBePm75T4JckAtyQS7IBbkgF+SC3A+L+iAQAePTXwAAAABJRU5ErkJggg=="},{seed:"orc-061",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABD0lEQVR4AeXBoUpDYQCG4Xcv5wJWtIwFDQsWBxosgrhrWBYEYWAdVm9gVRCEXYdJBtbhLciCZSbzwAlLWzHIf+DI9zyt46OzNcEknISTcBJOwkk4CSfhJFxFTR72ztl2+/lKE0k4CSfhJJyEk3ASruoPV9Rixo7+cEUTSTgJJ+EknISTcBJOwkm4ikLGoznbvmZ3/MV4NOc3k8dTSpJwEk7Cta7uT9bU4GZ2ybanixeaSMJJOAkn4SSchJNwEk7CSTgJV1FYZ7pk45AdnemSEj6u9ylJwlXdRZuSvllSp+6iTUkVhTnosfHODgc9mkjCSTgJJ+EknISrqMnzwRv/gYSTcBJOwkk4CSfhJJyE+wHOUSDhZh7h0wAAAABJRU5ErkJggg=="},{seed:"orc-062",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAElEQVR4AeXBsUkDYQCG4dePnxRWaXSEFEIwxRVp3MEmOwRsM8a1wu1gkxEELdMFskA6HSEBbQ0cguHnDLzPc3V/N/9CLMgFuSAX5IJckAtyQS7IFS7E880DPz19vjGEIBfkglyQC3JBLsiV2eLARXjlxGxxYAhBLsgFuSAX5IJckAtyQa5QyWq54Tdt1/AXq+WGPm3XUFOQC3JBrlBJ2zXU1HYNQwhyQS7IBbkgF+SCXJALckGuUNl0feQsY05M10f6bB8LNQW5IFfGuxE17ScjzjH/4MR+ck2f8Y6qglyQC3JBLsgFuSBXuBAvt+/8hyAX5IJckAtyQS7IBbkg9w1z1R0SBUHibwAAAABJRU5ErkJggg=="},{seed:"orc-063",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBIU4DUQBF0cvLF5Wwk6abqGzS1OC+JewBgWMXs4CakaQrwHQB3UIFiKapA9uaCYSfGXHPuXtePX4jFuSCXJALckEuyAW5IBfkChP7fF1y7eHlnTEFuSAX5IJckAtyQa6c5gemteTaaX5gTEEuyAW5IBfkglyQC3JBrtBIt+oYUvvKb3SrjiG1r7QU5IJckCs0UvtKC7WvjCnIBbkgF+SCXJALckEuyBUaW2wv/MXHmhuL7YUh+82MloJckCs0tt/M+I/9ZsaYynF3Zkr3a24cd2fGFOSCXJALckEuyAW5wsS+nt6YUpALckEuyAW5IBfkglyQ+wFLeSKIDarOHgAAAABJRU5ErkJggg=="},{seed:"orc-064",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA80lEQVR4AeXBIU4DUQBF0duXvw5AVtawBuRYcN8hugGWwAbwExR2JFuYJdSxh7ohGRQJNQ2UX5LhnrPadnczYkEuyAW5IBfkglyQC3JBrnCCx9tXvnp4uWGpglyQC3JBLsgFuSBX9psdv7Xf7FiqIBfkglyQC3JBLsgFuSBXaKTveo6pQ+U7+q7nmDpUWgpyQS7IFRqpQ6WFOlT+UpALckEuyAW5IBfkglyQC3JBrtDY+9Mb51S2l7QU5Mo0zvzYmgPTOPNpxXlN40xLhcbm6wuWJMgFuSAX5IJckCuc4P75iv8iyAW5IBfkglyQC3JBLsh9AKs9IHA/Nn4sAAAAAElFTkSuQmCC"},{seed:"orc-065",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/UlEQVR4AeXBIU4DUQBF0cvLT1NZwyZA0FSxiybNVOC+ZCEsAtw4TM0sA1NHN8EGmlSAImkNAv6QSe45V3c395+IBbkgF+SCXJALckEuyAW5wgTdvj5y7v3hmbEEuSAX5IJckAtyQa4styem5sSl5fbEWIJckAtyQS7IFRrp1z0/qUPlt/p1z7k6VFoJckEuyBUaqUNlLHWojCXIBbkgF+SCXJALckEuyAW5IFdobLU78ldvGy6sdke+7bs5LQW5IFdobN/NaW3fzRlLkAtyZXGYMTUfGy4sDjPGEuSCXJALckEuyAW5wgRdP73wX4JckAtyQS7IBbkgF+SC3BcgpB6JCR43QwAAAABJRU5ErkJggg=="},{seed:"orc-066",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA5UlEQVR4AeXBMUoDUQAA0XH46b2ACF4jrX2wtdre0nOIlX3AA0guJAS8hYK2phGRXWGZ985ur3efhEmcxEmcxEmcxEmcxEncYC4PN5y4f2ENJE7iJE7iJE7iJG5stm/M4Z1Tm+0bayBxEidxEidxEjdYyH6357vpMPFb+92en0yHiblInMRJ3GAh02Hir6bDxH+ROImTOImTOImTOImTOIkbLOTj6cgSxt0lc5I4iRssZNxdsgYSJ3Hj4njOHF45dXE8Zw0kTuIkTuIkTuIkbjCTq8dn1kjiJE7iJE7iJE7iJE7ivgAGCBh9NcmUkgAAAABJRU5ErkJggg=="},{seed:"orc-067",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCklEQVR4AeXBsUlDUQCG0S8/l9QB26wQLLSyMU26SLKBbw8FKwdwgzdCgqUr2EggEwgpbcQqECshrxGEG3jynTOYX88PiAW5IBfkglyQC3JBLsgFucIJnD8+c+zt7oa+CnJBLsgFuSAX5IJcOZvuOLWz6Y6+CnJBLsgFuSAX5AqVtIuWH/dfdLSLlmbd8BftouU3zbqhhiAX5ILc4Pbh4kBl49krx95fLumrIBfkglyQC3JBLsgFuSAX5IJcobLJas/HjI7Jak8tm2WhpiAX5AqVbZaFMV2bZaGvglwZbYdUN6NjtB3SV0EuyAW5IBfkglyQK5zA59MV/0WQC3JBLsgFuSAX5IJckPsG6gEiO3XixPEAAAAASUVORK5CYII="},{seed:"orc-068",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABCUlEQVR4AeXBIU4DUQBF0duXv4CqGlrRNYAiAcUkoLoEJl0EigTPGkgzW6hCILFsogk1rceW1HUMQXySIfec0fXl7QGxIBfkglyQC3JBLsgFuSBXGLCr51dOvT/cUVuQC3JBLsgFuSAX5Mq82fNfzJs9tQW5IBfkglyQK1TSLTp+0q5bfqtbdBw9ftHTLTqO2nVLLUEuyAW50f3T+YGBmjYfnPp8u6C2IBfkglyQC3JBLsgFuSBXqOxstaOahp6z1Y7tckJNQS7IFSrbLifUMqVvu5xQW5ALckEuyJXZZsxQHeibbcbUFuSCXJALckEuyAW5woCNXm74a0EuyAW5IBfkglyQC3JB7huy5iG5sjvWnwAAAABJRU5ErkJggg=="},{seed:"orc-069",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA50lEQVR4AeXBMS5EUQBA0evm9ySms4QpLIFSMTJbePtQ28fv1BMrsQrNFKyAlkjEyCfhnnO0udi8ECZxEidxEidxEidxEidxEwc4v73nrYeba/46iZM4iZM4iZM4iZtOLx/5rtPLR/46iZM4iZM4iZM4iZM4iZtYyLyd+czYDb5i3s58ZuwGS5I4iZO4iYWM3WAJYzf4TRIncRIncRIncRIncRIncRMLO5n3/KSnsWJJEidx03q/4queeW+9X/HBZsVPOtuzKImTOImTOImTOImbOMDx3RX/jcRJnMRJnMRJnMRJnMS9AjYaGWZUKvePAAAAAElFTkSuQmCC"},{seed:"orc-070",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/klEQVR4AeXBsU1CUQCG0c8/t2AIJrCRkFfoAHSW0FK6AS7xNrB8NaUdA9gQ3EN6QkKhrTQEkxsvyXfO3cP94zdiQS7IBbkgF+SCXJALckGu0Mjz2we/vb880UKQC3JBLsgFuSAX5MpkceIWTBYnWghyQS7IBbkgF+QKlSxXWy4Z+o6/WK62XDL0HTUEuSAX5AqVDH1HTUPf8R+CXJALckEuyAW5IFeobLo+co2vGWem6yPX2M1H1BTkglyhst18xDXGnNvNR7QQ5IJckAtyQa7sNwdaGM84s98caCHIBbkgF+SCXJALcoVGPl/vuQVBLsgFuSAX5IJckAtyQe4HeEsgX1RVjsMAAAAASUVORK5CYII="},{seed:"orc-071",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA6klEQVR4AeXBMS7DcQBA4eflF7NzSIShA3aboYvV6AZO0clq7AkM7mCxNelJbJWwskjJn0Tf9+0dH56+ESZxEidxEidxEidxEidxgy1d3j/x0ePNGbtA4iRO4iRO4iRO4sbJ1YafOLnasAskTuIkTuIkbjCR69tnvrJczPiO69tnvrJczJiCxEmcxA0mslzMmNJyMeMvSJzESZzESZzESZzESdxgYkcPr/ym1XwwJYmTuMHEVvPBfyJxEidxEjcO1vts5YJPDtb77AKJkziJkziJkziJG2zp5e6cXSRxEidxEidxEidxEidx787UGOVIEfk5AAAAAElFTkSuQmCC"},{seed:"orc-072",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA/0lEQVR4AeXBIU4DUQBF0duXj0ewChA0oYJ1TFKBKUgMsgmOBdSBwZDQGhwLacYiWQEI/IhBkUwNQfwmQ+45k9Pj8x6xIBfkglyQC3JBLsgFuSBXGLmTl2uG3i4eqSnIBbkgF+SCXJALcmU67xizjl3TeUdNQS7IBbkgF+SCXJALckGuUMli2fKbzWrGXy2WLT+e3tcMLZYtm9WMWoJckAtyk8u7s54R65obhg5eH6gpyAW5IBfkglyQC3JBrlDZ4fMnNX007FWQC3KFyr6ujvhPglzptj2j1rCj2/bUFOSCXJALckEuyAW5wtjd3rNPQS7IBbkgF+SCXJALckHuGzvRIwOk2l5AAAAAAElFTkSuQmCC"},{seed:"orc-073",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAklEQVR4AeXBsU0CYQCG4Zcv/wAMQEJvRSIrUFtrcQ5w9dk6ALULULgEiRNcojUdiR2NBaEywdBBYyx+kjPv84zau/sjYkEuyAW5IBfkglyQC3JBrlDZuHvl3NfygSELckEuyAW5IBfkglzZzzbUNObSfrZhyIJckAtyQS7IBbkgF+SCXKGSpus5efvgQtP1nKyWc/6i6Xp+s1rOqSnIBbkgN3p8vj1S0WTRc+5zPWfIglyQC3JBLsgFuSBXuLLvly01lXZKTUEuyBWurLRThizIBbmyWx+oabLgwm59YMiCXJALckEuyAW5IFeo7P3phv8kyAW5IBfkglyQC3JBLsj9ADxAIn4ixc2TAAAAAElFTkSuQmCC"},{seed:"orc-074",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA9klEQVR4AeXBIU4DQQCG0Y8/cwdkHSEYKhFco+EOO64ehV/TbC9TyykwpLq+pk3AUtOsmDBNvvfunp9efhALckEuyAW5IBfkglyQC3KFTj7fv/jr9eOBHoJckAtyQS7IBbkgV5arE7dguTrRQ5ALckEuyAW5IFdoZFpvuaaOA3NM6y3X1HGgpSAX5IJcoZE6DrRQx4H/FOSCXJALckEuyAW5IBfkglyhsfO0Z5YNF87TnjlKXdBSkAtyhcZKXTDPN3+VuqCHIBfkymF3pItHLhx2R3oIckEuyAW5IBfkglyhk7fNPbcgyAW5IBfkglyQC3JBLsj9AlIWH0dsNWRLAAAAAElFTkSuQmCC"},{seed:"orc-075",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA8ElEQVR4AeXBoU1DUQCG0Y8/V9SyScMSlSSkhhXedVUoBAM8QdJOwQKsUNEBugSmgqTi1RbTXHEh4X3n3NXH5wmxIBfkglyQC3JBLsgFuSBXaPT1tuLa/esncxDkglyQC3JBLsgFuXJaHmmz4tppeWQOglyQC3JBLsgVOtludtxSx4EW282OW+o40FOQC3JBrtBJHQd6qOPAXwpyQS7IBbkgF+SCXJALckEuyBU6e/j45jcd1gt6CnJBrtDZYb3gPwlyQa6c9xNNnvjhvJ+YgyAX5IJckAtyQS7IFVq9vDNHQS7IBbkgF+SCXJALckHuAkL6Hbm6qoqUAAAAAElFTkSuQmCC"},{seed:"orc-076",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAklEQVR4AeXBoUpDYQCG4XcfvwumFW/BoIgDi9cxWDDZRDYsuwGLeUXO0CuwiVdic1bByziDmYRjEcM/OPI+z+D06HyLWJALckEuyAW5IBfkglyQK/Tc8dM1XW8XD9QU5IJckAtyQS7IBbkynrb0WctP42lLTUEuyAW5IBfkglyQC3JBrlBJs1jxm/lyxl81ixXfrj7e6WoWK+bLGbUEuSAX5AaXt2dbeqyd3NC193xPTUEuyAW5IBfkglyQC3JBLsgFuUJlJy8banqdsFNBrozWQ+rasEuj9ZCaCpV9Hu7znwS5IBfkglyQC3KFnju4e2SXglyQC3JBLsgFuSAX5ILcF6COH/Rq4qKAAAAAAElFTkSuQmCC"},{seed:"orc-077",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAABAElEQVR4AeXBIUsDcQCH4Xc/LtiMZosMi0OLwS9gdxjtm+m6GOwr7u5TmAVZNZvF4gewD2HgydpZxPAfTN7nGRwdnnaIBbkgF+SCXJALckEuyAW5isKeb97oO7s7YJsFuSAX5IJckAtyQa4ajVds0mi8YpsFuSAX5IJckAtyQS7IBbmKQpq6Za17PKevqVvWprMJf9XULb+ZziaUEuSCXJAbXN2edBQ0H77Td/26zzYLckEuyAW5IBfkglyQC3JBrmLDjh8+KenlYoeSglyQqz4WS4oa8sPT7hdFLZaUFOSCXJALckEuyAW5isIu7/f4T4JckAtyQS7IBbkgF+SC3Dd1ECECKHt1UAAAAABJRU5ErkJggg=="},{seed:"orc-078",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA60lEQVR4AeXBMS4EAQBA0e9negrRqLS0W0noNqFxCJUDiEPIHGArrSM4gHavoUHjBLQoJGJGsvnvbZ0en70TJnESJ3ESJ3ESJ3ESJ3EDEzi5feCzx5tzNoXESZzESZzESZzEDQfLF6Z2sHxhU0icxEmcxEmcxEmcxEncwAyur9Z8N64W/Mb11ZqfjKsFU5A4iZO4gRmMqwV/Na4W/AeJkziJkziJkziJkziJk7iBGezfPTOXp8s9piRxEjccve7yV298tXNxyFx2XpmUxEmcxEmcxEmcxA1MYPv+jE0lcRIncRIncRIncRIncR/emhg9RKSXsQAAAABJRU5ErkJggg=="},{seed:"orc-079",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+UlEQVR4AeXBsU1CUQCG0Y8/dwALWwoGoCB5lYlWvkQ7x2AA4hDmDfAKh6BzAFs6J6CmgAFINHTY2HivwXznTO5uHj4RC3JBLsgFuSAX5IJckAtyhQt1+/LGuffnR1oIckEuyAW5IBfkglyZ9Tv+g1m/o4UgF+SCXJALckEuyAW5IFeoZLXc8JNh7PiN1XLDuWHsqCHIBbkgV6hkGDtaGsaOFoJckAtyQS7IBbkgF+SCXJArVDZfH6lh3/PNfH3k5OOpUFOQC3Jlur2ipsOCJg6La06mW6oKckEuyAW5IBfkglzhQk1e7/kLQS7IBbkgF+SCXJALckHuC3caG+8G4hnHAAAAAElFTkSuQmCC"},{seed:"orc-080",data:"iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA+0lEQVR4AeXBoU7DUACG0Y8/9wEmKjHTM4gqBG4JGoWsHH6PUU+DmoOHmeAhcKuYR4ClZozkZiX5zrm6u73/QizIBbkgF+SCXJALckEuyBVmcP38yE8fT2/MJcgFuSAX5IJckAtyZbk+cGmfTC3XB+YS5IJckAtyQS7IBbkgF+QKlWw3e07ph5ZzbTd7TumHllqCXJALcoVK+qGlln5ouZQgF+SCXJALckEuyAW5IFeobLEb+c3hgYnFbuRcx66hpiAX5AqVHbuGvzp2DXMpq7Hh0t6ZWo0NcwlyQS7IBbkgF+SCXGEGNy+v/BdBLsgFuSAX5IJckAtyQe4bStke1OTTX5wAAAAASUVORK5CYII="}],B=Ie,be="data:image/png;base64,";function Je(s){if(B.length===0)return"default";let e=0;for(let t=0;t<s.length;t+=1)e=(e<<5)-e+s.charCodeAt(t),e|=0;return B[(e>>>0)%B.length].seed}function w(s){if(B.length===0)return"";const e=B.find(t=>t.seed===s)??B[0];return`${be}${e.data}`}const Le=["Bog","Gor","Lug","Maz","Naz","Or","Ruk","Shag","Urz","Zog"],ve=["dak","gash","muk","nak","rag","ruk","snak","thor","zug","zul"],we={König:220,Spieler:160,Captain:120,Späher:80,Grunzer:40},Xe={König:[12,14],Spieler:[10,12],Captain:[6,10],Späher:[4,7],Grunzer:[2,5]};function Qe(s){return`${s.pick(Le)}${s.pick(ve)}`}function Re(s){const e=["Feigling","Berserker","Hinterhältig","Trinkfest","Tierjäger","Intrigant"],t=s.chance(.3)?2:1;return s.shuffle(e).slice(0,t)}function Fe(s){return{gier:s.next(),tapferkeit:s.next(),loyalitaet:s.next(),stolz:s.next()}}function E(s,e,t=16){const i=[...s.memories,e];return i.length>t&&i.splice(0,i.length-t),{...s,memories:i}}function ee(s,e,t,i={}){const[n,r]=Xe[e],a=s.int(n,r),o=Math.max(10,Math.round(we[e]+s.int(-15,15))),c=i.id??`orc_${t}_${s.int(100,999999)}`,d=i.portraitSeed??Je(c);return{id:c,name:i.name??Qe(s),rank:e,level:i.level??a,merit:i.merit??o,traits:i.traits??Re(s),personality:i.personality??Fe(s),relationships:i.relationships??[],portraitSeed:d,status:i.status??"ALIVE",cycleJoined:i.cycleJoined??t,cycleDied:i.cycleDied,memories:i.memories??[]}}function x(s,e){const t=s.relationships.filter(i=>i.with!==e.with);return{...s,relationships:[...t,e]}}function X(s,e){return s.officers.find(t=>t.id===e)}function M(s,e){s.officers=s.officers.map(t=>t.id===e.id?e:t)}function te(s,e,t,i,n,r){if(e===t)return;const a=X(s,e),o=X(s,t);if(!a||!o)return;const c=i==="BLOOD_OATH"?n+me:void 0,d={with:o.id,type:i,sinceCycle:n,expiresAtCycle:c},h={with:a.id,type:i,sinceCycle:n,expiresAtCycle:c};let l=x(a,d),u=x(o,h);return l=E(l,{cycle:n,category:i==="BLOOD_OATH"?"BLOOD_OATH":"RELATIONSHIP",summary:`${i} mit ${u.name}`}),u=E(u,{cycle:n,category:i==="BLOOD_OATH"?"BLOOD_OATH":"RELATIONSHIP",summary:`${i} mit ${l.name}`}),M(s,l),M(s,u),Ce(r,n,l,u,i)}function se(s,e,t){const i=[],n=s.officers.filter(a=>a.id!==e.id);if(n.length===0)return i;const r=t.chance(.4)?2:1;for(let a=0;a<r;a+=1){const o=t.pick(n),c=t.next();let d;if(c<.05?d="BLOOD_OATH":c<.2?d="RIVAL":c<.5?d="ALLY":c<.7&&(d="FRIEND"),!d)continue;const h=te(s,e.id,o.id,d,s.cycle,t);h&&i.push(h)}return i}function Ue(s,e,t){const i=[],n=new Set;for(const r of s.officers)for(const a of r.relationships){if(a.type!=="BLOOD_OATH"||a.expiresAtCycle===void 0||a.expiresAtCycle>e)continue;const o=[r.id,a.with].sort().join(":");if(n.has(o))continue;n.add(o);const c=X(s,a.with);if(!c)continue;const d=(r.personality.loyalitaet+c.personality.loyalitaet)/2,h=(r.personality.stolz+c.personality.stolz)/2,l=(r.personality.gier+c.personality.gier)/2;let u="ALLY";l>d&&h>d&&(u="RIVAL");const g=te(s,r.id,c.id,u,e,t);g&&i.push(g)}return i}function Oe(s,e,t){const i=new Set,n=[...e];for(;n.length>0;){const r=n.pop();if(!r)continue;const a=X(s,r);if(a)for(const o of a.relationships)o.type==="BLOOD_OATH"&&(o.expiresAtCycle!==void 0&&o.expiresAtCycle<=t||e.has(o.with)||i.has(o.with)||(i.add(o.with),n.push(o.with)))}return i}function Te(s,e){let t=0;for(const i of s.relationships){if(!e.find(a=>a.id===i.with))continue;const r=fe[i.type];typeof r=="number"&&(t+=r)}return t}const xe=["Schädelhügel","Schlackengrube","Pilzwald","Aschepass","Knochenarena","Teersümpfe"],Me=["Feast","Hunt","Ambush","Duel","Monsterjagd","Diplomatie"],He=["Neue Waffenversorgung","Rufzuwachs","Sonderrechte im Hof","Seltene Trophäe","Strategischer Vorteil"];function Ne(s){return 1/(1+Math.exp(-s))}function Ve(s,e){const t=[];for(const i of e.participants){const n=s.officers.find(r=>r.id===i);n&&t.push(n)}return t}function We(s,e,t,i){let n=.5-e.baseDifficulty;i==="UNGEFESTIGT"&&(n-=.2);const r=t.reduce((l,u)=>{const g=u.traits.reduce((p,C)=>p+(pe[C]??0),0);return l+g},0),a=t.reduce((l,u)=>l+Te(u,t),0),o=r/Math.max(t.length,1),c=a/Math.max(t.length,1),d=s.fork(`warcall:${e.id}`).next()-.5,h=n+o+c+d;return{base:n,traits:o,relationships:c,random:d,logistic:h}}function Ge(s,e,t,i){return e.length===0?[]:t?[]:i==="UNGEFESTIGT"&&e.length>1?s.shuffle(e).slice(0,2).map(a=>a.id):[s.pick(e).id]}function ze(s,e,t){let i=e?20:Math.max(-10,-s.merit*.1);return e&&t==="UNGEFESTIGT"&&(i/=2),{...s,merit:Math.max(0,s.merit+i)}}function Ke(s,e,t){const i=Ve(s,t),n=We(e,t,i,s.kingStatus),r=Ne(n.logistic),a=e.fork(`resolve:${t.id}`).next()<=r;t.breakdown=n;const o=Ge(e.fork(`casualties:${t.id}`),i,a,s.kingStatus),c=Se(e,s.cycle,t,a,n);for(const d of i){const h=E(ze(d,a,s.kingStatus),{cycle:s.cycle,category:"WARCALL",summary:`${a?"Triumph":"Schmach"} bei ${t.location}`,details:`Chance ${(r*100).toFixed(1)}%`});s.officers=s.officers.map(l=>l.id===h.id?h:l)}return{warcall:t,success:a,casualties:o,feed:[c]}}function Ye(s,e,t){const i=e.filter(a=>a.status==="ALIVE"&&a.rank!=="König"),n=[],r=s.shuffle(i);for(let a=0;a<Math.min(t,r.length);a+=1)n.push(r[a]);return n}function ie(s,e,t){const i=Ye(e,s.officers,3);if(i.length===0)return;const n=e.pick(i),r=e.pick(Me),a=Math.min(1,Math.max(0,e.next()));return{id:`warcall_${t}_${e.int(100,999999)}`,cycleAnnounced:t,resolveOn:t+1,initiator:n.id,participants:i.map(o=>o.id),location:e.pick(xe),baseDifficulty:e.next(),kind:r,risk:a,rewardHint:e.pick(He)}}function De(s,e){const t=s.warcalls.filter(r=>r.resolveOn<=s.cycle),i=s.warcalls.filter(r=>r.resolveOn>s.cycle),n=t.map(r=>Ke(s,e,r));return s.warcalls=i,n}function ne(s,e){s.warcalls=[...s.warcalls,...e]}function re(s){const e={König:0,Spieler:0,Captain:0,Späher:0,Grunzer:0};return s.forEach(t=>{e[t.rank]+=1}),e}function Ze(s,e){return s.map(t=>({...t,relationships:t.relationships.filter(i=>!e.has(i.with))}))}function qe(s,e,t){const i=[],n=[];if(e.size===0)return{feed:i,deadIds:n};s.officers=Ze(s.officers,e);for(const r of e){const a=s.officers.find(c=>c.id===r);if(!a)continue;const o=E({...a,status:"DEAD",cycleDied:s.cycle},{cycle:s.cycle,category:"DEATH",summary:`Gefallen in Zyklus ${s.cycle}`});i.push(Be(t,s.cycle,o,"im Blutrausch")),n.push(o.id),s.graveyard=[{...o},...s.graveyard],s.officers=s.officers.filter(c=>c.id!==r)}return{feed:i,deadIds:n}}function Pe(s,e,t){if(s.officers.find(o=>o.id===s.kingId)||s.officers.length===0)return;const r={...[...s.officers].sort((o,c)=>c.merit-o.merit)[0],rank:"König"};s.kingId=r.id,s.kingStatus="UNGEFESTIGT",s.kingStatusExpires=s.cycle+Ee,s.officers=s.officers.map(o=>o.id===r.id?r:o),t.push(O(e,s.cycle,`${r.name} besteigt als UNGEFESTIGT den Thron.`));const a=E(r,{cycle:s.cycle,category:"PROMOTION",summary:"Zum König erhoben"});s.officers=s.officers.map(o=>o.id===a.id?a:o)}function je(s,e,t){const i=[],n=[],r=re(s.officers);return Object.keys(I).forEach(a=>{const o=I[a];for(;r[a]+n.filter(c=>c.rank===a).length<o;){let c=ee(e,a,t);c=E(c,{cycle:t,category:"SPAWN",summary:"Neu in der Horde"}),s.officers.push(c),n.push(c),i.push(ye(e,t,c));const d=se(s,c,e);i.push(...d)}}),{spawns:n,feed:i}}function $e(s,e){const t=[],i=[],n=re(s.officers),r=[...s.officers].sort((a,o)=>o.merit-a.merit);for(const a of r){const o=ge[a.rank];if(o.promoteAt!==void 0&&o.promoteTo&&a.merit>=o.promoteAt&&n[o.promoteTo]<I[o.promoteTo]){n[a.rank]-=1,n[o.promoteTo]+=1;const c=E({...a,rank:o.promoteTo},{cycle:s.cycle,category:"PROMOTION",summary:`Aufstieg zu ${o.promoteTo}`});s.officers=s.officers.map(d=>d.id===c.id?c:d),i.push({officerId:a.id,from:a.rank,to:o.promoteTo}),t.push(ke(e,s.cycle,c,o.promoteTo));continue}if(o.demoteBelow!==void 0&&o.demoteTo&&a.merit<o.demoteBelow){n[a.rank]-=1,n[o.demoteTo]+=1;const c=E({...a,rank:o.demoteTo},{cycle:s.cycle,category:"PROMOTION",summary:`Abstieg zu ${o.demoteTo}`});s.officers=s.officers.map(d=>d.id===c.id?c:d),i.push({officerId:a.id,from:a.rank,to:o.demoteTo}),t.push(O(e,s.cycle,`${c.name} wird zum ${o.demoteTo} zurückgestuft.`))}}return{promotions:i,feed:t}}function _e(s,e,t){s.kingStatus==="UNGEFESTIGT"&&s.cycle>=s.kingStatusExpires&&(s.kingStatus="GEFESTIGT",t.push(O(e,s.cycle,"Der König gilt wieder als GEFESTIGT.")))}function et(s,e){const t=[],i=1+s.cycle%2;for(let n=0;n<i;n+=1){const r=ie(s,e,s.cycle);r&&t.push(r)}return ne(s,t),t}function tt(s){return[...s].sort((e,t)=>e.priority===t.priority?e.id.localeCompare(t.id):t.priority-e.priority)}function st(s,e){s.cycle+=1;const t=[];_e(s,e,t);const i=Ue(s,s.cycle,e);t.push(...i);const n=De(s,e);n.forEach(g=>{t.push(...g.feed)});const r=new Set;n.forEach(g=>g.casualties.forEach(p=>r.add(p))),Oe(s,r,s.cycle).forEach(g=>r.add(g));const o=qe(s,r,e);t.push(...o.feed),Pe(s,e,t);const{spawns:c,feed:d}=je(s,e,s.cycle);t.push(...d);const h=et(s,e),l=$e(s,e);t.push(...l.feed);const u=tt(t);return s.feed=[...s.feed,...u].slice(-120),{cycle:s.cycle,warcallsResolved:n,warcallsPlanned:h,deaths:o.deadIds,spawns:c,promotions:l.promotions,feed:u}}class Q{constructor(e){A(this,"state");let t=0;const i=typeof e=="number"?e.toString():e;for(let n=0;n<i.length;n+=1)t=(t<<5)-t+i.charCodeAt(n),t|=0;this.state=t||1831565813}next(){let e=this.state;return e^=e<<13,e^=e>>>17,e^=e<<5,this.state=e,(e>>>0)/4294967296}int(e,t){return Math.floor(this.next()*(t-e+1))+e}pick(e){if(e.length===0)throw new Error("Cannot pick from empty array");return e[Math.floor(this.next()*e.length)]}shuffle(e){const t=[...e];for(let i=t.length-1;i>0;i-=1){const n=Math.floor(this.next()*(i+1));[t[i],t[n]]=[t[n],t[i]]}return t}chance(e){return this.next()<e}fork(e){return new Q(`${e}:${this.state}`)}}function it(s,e=new Q(s)){const t={seed:s,cycle:0,officers:[],graveyard:[],warcalls:[],kingId:"",kingStatus:"GEFESTIGT",kingStatusExpires:0,feed:[],playerId:null};Object.keys(I).forEach(n=>{const r=I[n];for(let a=0;a<r;a+=1){let o=ee(e,n,t.cycle);o=E(o,{cycle:0,category:"SPAWN",summary:"Teil des Ausgangszugs"}),t.officers.push(o),se(t,o,e)}});const i=t.officers.find(n=>n.rank==="König");return i?t.kingId=i.id:t.officers.length>0&&(t.kingId=t.officers[0].id,t.officers[0]={...t.officers[0],rank:"König"}),t}class ae{constructor(){A(this,"listeners",new Map)}on(e,t){const i=this.listeners.get(e)??new Set;return i.add(t),this.listeners.set(e,i),()=>this.off(e,t)}off(e,t){const i=this.listeners.get(e);i&&(i.delete(t),i.size===0&&this.listeners.delete(e))}emit(e,t){const i=this.listeners.get(e);i&&i.forEach(n=>{n(t)})}}const nt=["Grunzer","Späher","Captain","Spieler","König"],H=new Map(nt.map((s,e)=>[s,e]));function rt(s){let e=0;for(let i=0;i<s.length;i+=1)e=(e*31+s.charCodeAt(i))%9973;return(e%200-100)/1e3}function m(s,e){return s+rt(e)}function at(s,e){const t=new Map,i=n=>{t.has(n.id)||t.set(n.id,n)};return[...s.officers,...s.graveyard,...e.officers,...e.graveyard].forEach(i),t}function f(s,e){var t;return((t=s.get(e))==null?void 0:t.name)??e}function L(s,e){const t=new Map;return s.forEach(i=>{i.relationships.forEach(n=>{if(n.type!==e)return;const[r,a]=[i.id,n.with].sort(),o=`${r}:${a}:${e}`;t.has(o)||t.set(o,{ids:[r,a],relation:n})})}),t}function ot(s,e){return s?s.promotions.map(t=>{const i=e.get(t.officerId),n=(H.get(t.to)??0)-(H.get(t.from)??0),r=n>=0?"up":"down",o=Math.abs(n)*5,c=i?r==="up"?`${i.name} steigt zum ${t.to} auf`:`${i.name} fällt zum ${t.to}`:`${t.officerId} wechselt Rang`,d=`${t.from} → ${t.to}`,h=r==="up"?"⬆️":"⬇️";return{id:`rank:${t.officerId}:${t.to}`,label:c,icon:h,details:d,score:m(o,`rank:${t.officerId}:${t.to}`)}}):[]}function ct(s,e){return s?s.deaths.map(t=>{const i=e.get(t),n=i?`${i.name} fällt im Zyklus ${s.cycle}`:`${t} fällt im Zyklus ${s.cycle}`,r=i?`Letzter Rang: ${i.rank}`:void 0;return{id:`death:${t}:${s.cycle}`,label:n,icon:"☠️",details:r,score:m(4,`death:${t}:${s.cycle}`)}}):[]}function At(s){return s?s.spawns.map(e=>({id:`spawn:${e.id}:${s.cycle}`,label:`${e.name} verstärkt die Horde als ${e.rank}`,icon:"✨",details:`Trait: ${e.traits.join(", ")||"keine"}`,score:m(4,`spawn:${e.id}:${s.cycle}`)})):[]}function lt(s,e,t){const i=[],n=L(s.officers,"BLOOD_OATH"),r=L(e.officers,"BLOOD_OATH");r.forEach((c,d)=>{if(n.has(d))return;const[h,l]=c.ids;i.push({id:`blood:new:${d}`,label:`Blutschwur zwischen ${f(t,h)} und ${f(t,l)}`,icon:"🩸",details:c.relation.sinceCycle!==void 0?`Seit Zyklus ${c.relation.sinceCycle}`:void 0,score:m(3,`blood:new:${d}`)})}),n.forEach((c,d)=>{if(r.has(d))return;const[h,l]=c.ids;i.push({id:`blood:end:${d}`,label:`Blutschwur erloschen: ${f(t,h)} & ${f(t,l)}`,icon:"💔",details:c.relation.expiresAtCycle!==void 0?`Abgelaufen in Zyklus ${c.relation.expiresAtCycle}`:"Bindung zerschnitten",score:m(3,`blood:end:${d}`)})});const a=L(s.officers,"RIVAL"),o=L(e.officers,"RIVAL");return o.forEach((c,d)=>{if(a.has(d))return;const[h,l]=c.ids;i.push({id:`rival:new:${d}`,label:`Rivalität entflammt: ${f(t,h)} vs. ${f(t,l)}`,icon:"⚔️",details:c.relation.sinceCycle!==void 0?`Seit Zyklus ${c.relation.sinceCycle}`:void 0,score:m(2,`rival:new:${d}`)})}),a.forEach((c,d)=>{if(o.has(d))return;const[h,l]=c.ids;i.push({id:`rival:end:${d}`,label:`Rivalität beigelegt: ${f(t,h)} & ${f(t,l)}`,icon:"🤝",details:"Konflikt beruhigt sich",score:m(2,`rival:end:${d}`)})}),i}function dt(s,e){return s?s.warcallsResolved.flatMap(t=>{const i=t.warcall.participants.map(c=>e.get(c)).filter(c=>!!c),n=i.some(c=>c.rank==="Spieler"),r=i.map(c=>c.name).join(", "),a=`warcall:${t.warcall.id}:${s.cycle}`,o=f(e,t.warcall.initiator);if(n){const c=t.success?3:2,d=t.success?`${o} triumphiert bei ${t.warcall.location}`:`${o} scheitert bei ${t.warcall.location}`,h=t.success?"🏆":"⚠️",l=r?`Teilnehmer: ${r}`:void 0;return[{id:`${a}:player`,label:d,icon:h,details:l,score:m(c,`${a}:player`)}]}return i.length>=4?[{id:`${a}:mass`,label:`Große Schar bei ${t.warcall.location} (${i.length})`,icon:"⚔️",details:r?`Teilnehmer: ${r}`:void 0,score:m(1,`${a}:mass`)}]:[]}):[]}function ht(s,e,t){const i=at(s,e),n=[];return n.push(...ot(t,i)),n.push(...ct(t,i)),n.push(...At(t)),n.push(...lt(s,e,i)),n.push(...dt(t,i)),n.filter((r,a,o)=>o.findIndex(c=>c.id===r.id)===a).sort((r,a)=>a.score-r.score||r.id.localeCompare(a.id))}function ut(s){return{...s}}function N(s){return{...s,traits:[...s.traits],personality:{...s.personality},relationships:s.relationships.map(e=>({...e})),memories:s.memories.map(e=>({...e}))}}function gt(s){return{...s,participants:[...s.participants],breakdown:s.breakdown?{...s.breakdown}:void 0}}function pt(s){return{...s,officers:s.officers.map(N),graveyard:s.graveyard.map(N),warcalls:s.warcalls.map(gt),feed:s.feed.map(ut)}}class ft{constructor(e){A(this,"events",new ae);A(this,"rng");A(this,"state");this.rng=new Q(e),this.state=it(e,this.rng)}getState(){return this.state}tick(){const e=pt(this.state),t=st(this.state,this.rng);this.events.emit("cycle:completed",t),t.warcallsResolved.forEach(n=>this.events.emit("warcall:resolved",n)),t.feed.length>0&&this.events.emit("feed:appended",t.feed),this.events.emit("graveyard:changed",this.state.graveyard),this.events.emit("state:changed",this.state);const i=ht(e,this.state,t);return this.events.emit("cycle:digest",{cycle:this.state.cycle,highlights:i}),t.warcallsPlanned.forEach(n=>this.events.emit("warcall:planned",n)),t}scheduleWarcall(){const e=ie(this.state,this.rng,this.state.cycle);if(e)return ne(this.state,[e]),this.events.emit("warcall:planned",e),this.events.emit("state:changed",this.state),e}}function V(s){return s.mode==="spectate"?{mode:"spectate",playerId:null}:s}class mt extends ae{constructor(){super(...arguments);A(this,"state",{mode:"spectate",playerId:null})}getState(){return this.state}setMode(t,i=this.state.playerId){const n=V({mode:t,playerId:i});this.state.mode===n.mode&&this.state.playerId===n.playerId||(this.state=n,this.emit("mode:changed",this.state))}setPlayer(t){const i=V({mode:this.state.mode,playerId:t});this.state.playerId===i.playerId&&this.state.mode===i.mode||(this.state=i,this.emit("mode:changed",this.state))}}function Et(s,e){return s.resolveOn<=e?"event":s.resolveOn-e===1?"travel":"prep"}function oe(s){return s.phase==="resolution"?"done":s.phase==="prep"&&(!s.participants||s.participants.length===0)?"pending":"active"}function yt(s,e){return{...s,participants:[...s.participants],phase:Et(s,e)}}function W(s,e){return s.warcalls.map(t=>yt(t,s.cycle)).filter(t=>oe(t)===e)}const ce={MODAL:900,FEED:700};class Bt{constructor(e,t,i){this.x=e,this.y=t,this.radius=i}contains(e){const t=e.x-this.x,i=e.y-this.y;return t*t+i*i<=this.radius*this.radius}}class Ae{constructor(e={x:0,y:0}){A(this,"children",[]);A(this,"depth",0);A(this,"scrollFactor",1);A(this,"hitArea");A(this,"visible",!0);this.position=e}add(e){this.children.push(e)}setDepth(e){return this.depth=e,this}setScrollFactor(e){return this.scrollFactor=e,this}setCircleHitArea(e){return this.hitArea=new Bt(this.position.x,this.position.y,e),this}hitTest(e){return this.hitArea?this.hitArea.contains(e):!1}}function kt(s,e){const t=[];let i=s;for(;i.length>e;)t.push(i.slice(0,e)),i=i.slice(e);return i.length>0&&t.push(i),t}function St(s,e){const t=s.split(/\s+/),i=[];let n="";for(const r of t){const a=r.length>e?kt(r,e):[r];for(const o of a){if(n.length===0){n=o;continue}(n+" "+o).length<=e?n=`${n} ${o}`:(i.push(n),n=o)}}return n.length>0&&i.push(n),i}class Ct extends Ae{constructor(t=420,i=18,n=6){super({x:0,y:0});A(this,"width");A(this,"lineHeight");A(this,"lineSpacing");A(this,"layout",[]);this.width=t,this.lineHeight=i,this.lineSpacing=n,this.setDepth(ce.FEED)}render(t){const i=[],n=Math.max(10,Math.floor(this.width/8));let r=0;return t.forEach(a=>{const o=St(a.text,n);o.forEach((c,d)=>{i.push({text:c,y:r}),d<o.length-1&&(r+=this.lineHeight+this.lineSpacing)}),r+=this.lineHeight+this.lineSpacing}),this.layout=i,i}getLines(){return this.layout}}class G extends Ae{constructor(t,i={}){super({x:0,y:0});A(this,"entries");A(this,"rowHeight");A(this,"viewHeight");A(this,"offset",0);A(this,"isOpen",!0);this.entries=t.map(n=>({id:n.id,name:n.name,cycle:n.cycleDied??0})),this.rowHeight=i.rowHeight??36,this.viewHeight=i.viewHeight??180,this.setDepth(ce.MODAL)}get size(){return this.entries.length}get scrollOffset(){return this.offset}get maxScroll(){return Math.max(0,this.entries.length*this.rowHeight-this.viewHeight)}scroll(t){this.offset=Math.min(this.maxScroll,Math.max(0,this.offset+t))}onWheel(t){this.scroll(t)}close(){this.isOpen=!1}listVisible(){const t=Math.floor(this.offset/this.rowHeight),i=Math.ceil(this.viewHeight/this.rowHeight);return this.entries.slice(t,t+i)}}const z={duration:220,easing:"cubic-bezier(.2,.8,.2,1)",fill:"both"};function It(s){return s.getBoundingClientRect()}function bt(s,e,t=z){const i=e??s.getBoundingClientRect(),n=s.getBoundingClientRect(),r=i.left-n.left,a=i.top-n.top,o=i.width===0?1:i.width/Math.max(n.width,1),c=i.height===0?1:i.height/Math.max(n.height,1);if(Math.abs(r)<.5&&Math.abs(a)<.5&&Math.abs(1-o)<.01)return;const d=[{transformOrigin:"top left",transform:`translate(${r}px, ${a}px) scale(${o}, ${c})`,opacity:.9},{transformOrigin:"top left",transform:"translate(0, 0) scale(1, 1)",opacity:1}];return(l=>{if(typeof l.animate!="function"){l.style.transition="transform 0.22s cubic-bezier(.2,.8,.2,1)",l.style.transform=`translate(${r}px, ${a}px)`,requestAnimationFrame(()=>{l.style.transform="translate(0, 0)"});return}return l.animate(d,{...z,...t})})(s)}const K=["gier","tapferkeit","loyalitaet","stolz"],Jt={gier:"Gier",tapferkeit:"Tapferkeit",loyalitaet:"Loyalität",stolz:"Stolz"},Lt=["ALLY","FRIEND","RIVAL","BLOOD_OATH"],vt={ALLY:"ALLY",FRIEND:"FRIEND",RIVAL:"RIVAL",BLOOD_OATH:"BLOODOATH"},wt={ALLY:"ally",FRIEND:"friend",RIVAL:"rival",BLOOD_OATH:"blood"},Xt={König:"king",Spieler:"player",Captain:"captain",Späher:"scout",Grunzer:"grunt"};class Qt{constructor(e,t){A(this,"element");A(this,"options");A(this,"officer");A(this,"portrait");A(this,"nameEl");A(this,"levelBadge");A(this,"rankBadge");A(this,"meritBadge");A(this,"cycleBadge");A(this,"traitContainer");A(this,"footer");A(this,"statBars",new Map);A(this,"statValues",new Map);A(this,"previousRect",null);this.options=t,this.officer=e,this.element=document.createElement("article"),this.element.className="officer-card",this.element.tabIndex=0,this.element.dataset.officerId=e.id;const i=document.createElement("div");i.className="officer-card__portrait",this.portrait=document.createElement("img"),this.portrait.className="officer-card__portrait-img",this.portrait.alt=e.name,this.portrait.src=w(e.portraitSeed),i.appendChild(this.portrait);const n=document.createElement("div");n.className="officer-card__content";const r=document.createElement("header");r.className="officer-card__header";const a=document.createElement("div");a.className="officer-card__title-row",this.nameEl=document.createElement("h3"),this.nameEl.textContent=e.name,this.levelBadge=document.createElement("span"),this.levelBadge.className="officer-card__level",a.appendChild(this.nameEl),a.appendChild(this.levelBadge);const o=document.createElement("div");o.className="officer-card__meta",this.rankBadge=document.createElement("span"),this.rankBadge.className="officer-card__role",this.meritBadge=document.createElement("span"),this.meritBadge.className="officer-card__badge",this.cycleBadge=document.createElement("span"),this.cycleBadge.className="officer-card__badge officer-card__badge--muted",o.append(this.rankBadge,this.meritBadge,this.cycleBadge),r.append(a,o),n.appendChild(r),this.traitContainer=document.createElement("div"),this.traitContainer.className="officer-card__traits",n.appendChild(this.traitContainer);const c=document.createElement("div");c.className="officer-card__stats",K.forEach(d=>{const h=document.createElement("div");h.className="officer-card__stat";const l=document.createElement("span");l.className="officer-card__stat-label",l.textContent=Jt[d];const u=document.createElement("div");u.className="officer-card__stat-bar";const g=document.createElement("div");g.className="officer-card__stat-fill",u.appendChild(g);const p=document.createElement("span");p.className="officer-card__stat-value",h.append(l,u,p),c.appendChild(h),this.statBars.set(d,g),this.statValues.set(d,p)}),n.appendChild(c),this.footer=document.createElement("footer"),this.footer.className="officer-card__footer",n.appendChild(this.footer),this.element.append(i,n),this.attachTooltipListeners(),this.update(e)}attachTooltipListeners(){const{tooltip:e}=this.options;this.element.addEventListener("mouseenter",()=>{e.show(this.element,this.officer)}),this.element.addEventListener("mouseleave",()=>{e.scheduleHideFromTarget()}),this.element.addEventListener("focus",()=>{e.show(this.element,this.officer)}),this.element.addEventListener("blur",()=>e.hide()),this.element.addEventListener("keydown",t=>{var i,n;t.key==="Enter"&&(t.preventDefault(),(n=(i=this.options).onOpenDetails)==null||n.call(i,this.officer))})}setRank(e){const t=Xt[e];this.element.dataset.rank=t,this.rankBadge.textContent=e}updateMeta(e){this.nameEl.textContent=e.name,this.levelBadge.textContent=`Lv. ${e.level}`,this.meritBadge.textContent=`Merit ${Math.round(e.merit)}`,this.cycleBadge.textContent=`Zyklus ${e.cycleJoined}`}updateTraits(e){if(this.traitContainer.innerHTML="",e.traits.length===0){const t=document.createElement("span");t.className="officer-card__trait officer-card__trait--muted",t.textContent="Keine Merkmale",this.traitContainer.appendChild(t);return}e.traits.forEach(t=>{const i=document.createElement("span");i.className="officer-card__trait",i.textContent=t,this.traitContainer.appendChild(i)})}updateStats(e,t){K.forEach(i=>{const n=e.personality[i],r=t.personality[i],a=this.statBars.get(i),o=this.statValues.get(i);if(!a||!o)return;const c=`${Math.round(n*100)}%`;a.style.width?(a.classList.add("is-animating"),requestAnimationFrame(()=>{a.style.width=c;const h=()=>a.classList.remove("is-animating");a.addEventListener("transitionend",h,{once:!0})})):a.style.width=c;const d=n-r;o.textContent=n.toFixed(2),o.dataset.delta=d!==0?d>0?`+${d.toFixed(2)}`:d.toFixed(2):"",o.classList.remove("is-up","is-down"),d>.01?o.classList.add("is-up"):d<-.01&&o.classList.add("is-down")})}updateRelationships(e){const t=new Map;if(e.relationships.forEach(i=>{t.set(i.type,(t.get(i.type)??0)+1)}),this.footer.innerHTML="",Lt.forEach(i=>{const n=t.get(i);if(!n)return;const r=document.createElement("span");r.className=`officer-card__status officer-card__status--${wt[i]}`,r.textContent=`${vt[i]} · ${n}`,this.footer.appendChild(r)}),this.footer.childElementCount===0){const i=document.createElement("span");i.className="officer-card__status officer-card__status--empty",i.textContent="Keine Bindungen",this.footer.appendChild(i)}}captureBounds(){this.previousRect=It(this.element)}playFlip(){this.previousRect&&(bt(this.element,this.previousRect),this.previousRect=null)}update(e){const t=this.officer;this.officer=e,this.element.dataset.officerId=e.id,this.setRank(e.rank),this.portrait.src=w(e.portraitSeed),this.portrait.alt=e.name,this.updateMeta(e),this.updateTraits(e),this.updateRelationships(e),this.updateStats(e,t)}}const Rt={ALLY:"🤝",FRIEND:"🍻",RIVAL:"⚔️",BLOOD_OATH:"🩸"};function Ft(s){switch(s.type){case"ALLY":return"Allianz";case"FRIEND":return"Freundschaft";case"RIVAL":return"Rivalität";case"BLOOD_OATH":return"Blutschwur";default:return s.type}}function v(s){return s.toFixed(2)}function Ut(s){var i;const{personality:e}=s;switch((i=Object.entries(e).sort((n,r)=>r[1]-n[1])[0])==null?void 0:i[0]){case"tapferkeit":return"Frontkrieger";case"gier":return"Plünderer";case"loyalitaet":return"Bannerträger";case"stolz":return"Championsgeist";default:return"Unbekannt"}}function Ot(s){switch(s.rank){case"König":return"Herr der Horde";case"Spieler":return"Kriegsrat";case"Captain":return"Klingenführer";case"Späher":return"Schattenauge";default:return"Grubenläufer"}}class Tt{constructor(e={}){A(this,"root");A(this,"hideTimer",null);A(this,"currentTarget",null);A(this,"options");this.options=e,this.root=document.createElement("div"),this.root.className="officer-tooltip",this.root.setAttribute("role","tooltip"),this.root.setAttribute("aria-hidden","true"),this.root.addEventListener("mouseenter",()=>this.cancelHide()),this.root.addEventListener("mouseleave",()=>this.scheduleHide(120)),document.body.appendChild(this.root)}cancelHide(){this.hideTimer!==null&&(window.clearTimeout(this.hideTimer),this.hideTimer=null)}scheduleHide(e=80){this.cancelHide(),this.hideTimer=window.setTimeout(()=>this.hide(),e)}resolveRelations(e){return e.relationships.map(t=>{var i,n;return{...t,name:(n=(i=this.options).resolveName)==null?void 0:n.call(i,t.with)}})}buildMemories(e){return!e.memories||e.memories.length===0?'<p class="tooltip-empty">Keine Erinnerungen verzeichnet.</p>':`<ul class="tooltip-memories">${e.memories.slice(-3).reverse().map(i=>`<li><span>${i.cycle}</span><p>${i.summary}${i.details?` <small>${i.details}</small>`:""}</p></li>`).join("")}</ul>`}render(e){var o,c,d;const t=Ut(e),i=Ot(e),n=this.resolveRelations(e),r=n.length>0?`<ul class="tooltip-relations">${n.map(h=>{const l=h.expiresAtCycle?`bis Zyklus ${h.expiresAtCycle}`:"stabil";return`<li><span class="icon">${Rt[h.type]}</span><span><strong>${Ft(h)}</strong>${h.name?` mit ${h.name}`:""}<small>${l}</small></span></li>`}).join("")}</ul>`:'<p class="tooltip-empty">Keine bekannten Bande.</p>',a=e.traits.length>0?e.traits.map(h=>`<span class="tooltip-badge">${h}</span>`).join(""):'<span class="tooltip-badge tooltip-badge--muted">Kein Merkmal</span>';this.root.innerHTML=`
      <header>
        <div class="tooltip-heading">
          <h2>${e.name}</h2>
          <span class="sub">Lv ${e.level} • ${i}</span>
          <span class="archetype">${t}</span>
        </div>
        <div class="tooltip-traits">${a}</div>
      </header>
      <section class="tooltip-stats">
        <dl>
          <div><dt>Gier</dt><dd>${v(e.personality.gier)}</dd></div>
          <div><dt>Tapferkeit</dt><dd>${v(e.personality.tapferkeit)}</dd></div>
          <div><dt>Loyalität</dt><dd>${v(e.personality.loyalitaet)}</dd></div>
          <div><dt>Stolz</dt><dd>${v(e.personality.stolz)}</dd></div>
        </dl>
      </section>
      <section class="tooltip-relations-section">
        <h3>Beziehungen</h3>
        ${r}
      </section>
      <section class="tooltip-mem-section">
        <h3>Erinnerungen</h3>
        ${this.buildMemories(e)}
      </section>
      <footer>
        <button type="button" data-action="invite">Warcall einladen</button>
        <button type="button" data-action="rival">Als Rival markieren</button>
        <button type="button" data-action="details">Details öffnen</button>
      </footer>
    `,(o=this.root.querySelector('[data-action="invite"]'))==null||o.addEventListener("click",()=>{var h,l;return(l=(h=this.options).onInvite)==null?void 0:l.call(h,e)}),(c=this.root.querySelector('[data-action="rival"]'))==null||c.addEventListener("click",()=>{var h,l;return(l=(h=this.options).onMarkRival)==null?void 0:l.call(h,e)}),(d=this.root.querySelector('[data-action="details"]'))==null||d.addEventListener("click",()=>{var h,l;return(l=(h=this.options).onOpenDetails)==null?void 0:l.call(h,e)})}show(e,t){this.cancelHide(),this.render(t),this.currentTarget=e;const i=`tooltip-${t.id}`;this.root.id=i,e.setAttribute("aria-describedby",i);const{top:n,left:r,width:a}=e.getBoundingClientRect(),o=this.root.getBoundingClientRect(),c=n+window.scrollY-o.height-12,d=r+window.scrollX+a/2-o.width/2;this.root.style.left=`${Math.max(12,d)}px`,this.root.style.top=`${Math.max(12,c)}px`,this.root.setAttribute("aria-hidden","false"),this.root.classList.add("is-visible"),typeof this.root.animate=="function"&&this.root.animate([{opacity:0,transform:"translateY(4px)"},{opacity:1,transform:"translateY(0)"}],{duration:12,easing:"linear"})}hide(){var e;this.cancelHide(),(e=this.currentTarget)==null||e.removeAttribute("aria-describedby"),typeof this.root.animate=="function"?this.root.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(4px)"}],{duration:80,easing:"ease-out"}).addEventListener("finish",()=>{this.root.classList.remove("is-visible"),this.root.setAttribute("aria-hidden","true"),this.currentTarget=null}):(this.root.classList.remove("is-visible"),this.root.setAttribute("aria-hidden","true"),this.currentTarget=null)}scheduleHideFromTarget(){this.scheduleHide()}}function xt(s,e,t){const i=s.right<e.left?s.right:s.left,n=s.right<e.left?e.left:e.right,r=s.top+s.height/2,a=e.top+e.height/2;return{A:{x:i-t.left,y:r-t.top},B:{x:n-t.left,y:a-t.top}}}function Mt(s,e){const t=e.x-s.x,i=e.y-s.y,n={x:s.x+t*.25,y:s.y+i*.15},r={x:s.x+t*.75,y:s.y+i*.85};return`M ${s.x} ${s.y} C ${n.x} ${n.y}, ${r.x} ${r.y}, ${e.x} ${e.y}`}const le={ally:"Allianz",friend:"Freundschaft",rival:"Rivalität",bloodoath:"Blutschwur",hierarchy:"Befehlskette"},Ht={ally:"var(--line-ally)",friend:"var(--line-friend)",rival:"var(--line-rival)",bloodoath:"var(--line-blood)",hierarchy:"var(--line-hierarchy)"},Nt={bloodoath:"6 4"},Y={bloodoath:5,rival:4,ally:3,friend:2,hierarchy:1},D=6,Z=2,q=12,P=typeof window<"u"&&"IntersectionObserver"in window;function Vt(s){switch(s){case"ALLY":return"ally";case"FRIEND":return"friend";case"RIVAL":return"rival";case"BLOOD_OATH":default:return"bloodoath"}}function Wt(s,e){return s.fromId===e?s.toId:s.fromId}function j(s){if(s)for(let e=s.memories.length-1;e>=0;e-=1){const t=s.memories[e];if(t.category==="RELATIONSHIP")return{summary:t.summary,cycle:t.cycle}}}function Gt(s,e){const t=[],i=j(s);i&&t.push(i);const n=j(e);if(n&&t.push(n),t.length!==0)return t.sort((r,a)=>a.cycle-r.cycle),t[0]}function zt(s){return[...s].sort((e,t)=>{const i=Y[t.type]-Y[e.type];if(i!==0)return i;const n=(t.strength??0)-(e.strength??0);if(n!==0)return n;const r=e.sinceCycle??0;return(t.sinceCycle??0)-r})}function Kt(s,e,t){const i=s.get(e);if(!i)return[];const n=t.activeTypes,r=new Map,a=new Set;let o=0;for(const c of i)if(n.has(c.type)&&(r.set(c.id,c),a.add(Wt(c,e)),o+=1,o>=t.density))break;return t.includeSecondOrder&&a.forEach(c=>{const d=s.get(c);if(!d)return;let h=0;for(const l of d)if(n.has(l.type)&&!r.has(l.id)&&(r.set(l.id,l),h+=1,h>=t.density))break}),Array.from(r.values())}function $(s,e){const t=[],i=new Map(s.map(o=>[o.id,o])),n=new Set;s.forEach(o=>{o.relationships.forEach(c=>{const d=i.get(c.with),h=[o.id,c.with,c.type].sort().join(":");if(n.has(h))return;n.add(h);const l=Vt(c.type),u=Gt(o,d),g=c.type==="BLOOD_OATH"?1:c.type==="RIVAL"?.75:c.type==="ALLY"?.65:.5;t.push({id:h,fromId:o.id,toId:c.with,type:l,strength:g,sinceCycle:c.sinceCycle,expiresAtCycle:c.expiresAtCycle,lastMemory:u})})});const r=["König","Spieler","Captain","Späher","Grunzer"],a=new Map(r.map(o=>[o,[]]));return s.forEach(o=>{const c=a.get(o.rank);c==null||c.push(o)}),r.forEach((o,c)=>{if(c===0)return;const d=a.get(o)??[],h=r.slice(0,c);d.forEach(l=>{for(const u of h){const g=a.get(u)??[];if(g.length===0)continue;const p=g[0];t.push({id:`hierarchy:${l.id}->${p.id}`,fromId:l.id,toId:p.id,type:"hierarchy",strength:.3,sinceCycle:e});break}})}),t}class Yt{constructor(){A(this,"el");this.el=document.createElement("div"),this.el.className="relations-tooltip hidden",document.body.appendChild(this.el)}show(e){const{edge:t,anchor:i,from:n,to:r,currentCycle:a}=e;this.el.innerHTML="";const o=document.createElement("header"),c=document.createElement("span");c.className="relations-tooltip__label",c.dataset.type=t.type,c.textContent=le[t.type];const d=document.createElement("span");d.className="relations-tooltip__names",d.textContent=`${(n==null?void 0:n.name)??t.fromId} ↔ ${(r==null?void 0:r.name)??t.toId}`,o.append(c,d);const h=document.createElement("ul"),l=document.createElement("li");if(l.textContent=`Stärke ${(t.strength??0).toFixed(2)}`,h.appendChild(l),t.sinceCycle!==void 0){const p=document.createElement("li"),C=Math.max(0,a-t.sinceCycle);p.textContent=`Dauer ${C} Zyklen`,h.appendChild(p)}if(t.expiresAtCycle!==void 0){const p=document.createElement("li");p.textContent=`Gültig bis Zyklus ${t.expiresAtCycle}`,h.appendChild(p)}if(t.lastMemory){const p=document.createElement("li");p.textContent=`Letzte Erinnerung (Zyklus ${t.lastMemory.cycle}): ${t.lastMemory.summary}`,h.appendChild(p)}this.el.append(o,h);const u=i.left+i.width/2+window.scrollX,g=i.top+i.height+12+window.scrollY;this.el.style.left=`${u}px`,this.el.style.top=`${g}px`,this.el.classList.remove("hidden")}hide(){this.el.classList.add("hidden")}}class Dt{constructor(e){A(this,"options");A(this,"container");A(this,"svg");A(this,"toolbar");A(this,"toggleButtons",new Map);A(this,"slider");A(this,"sliderValue");A(this,"checkbox");A(this,"tooltip",new Yt);A(this,"adjacency",new Map);A(this,"observedCards",new Map);A(this,"visibleCards",new Set);A(this,"activeTypes",new Set(["ally","friend","rival","bloodoath","hierarchy"]));A(this,"focusId",null);A(this,"hoverId",null);A(this,"pinnedId",null);A(this,"density",D);A(this,"includeSecondOrder",!1);A(this,"currentCycle",0);A(this,"pendingFrame",null);A(this,"resizeObserver");A(this,"mutationObserver");A(this,"cardObserver");A(this,"enabled",!0);A(this,"legendVisible",!0);this.options=e,this.container=document.createElement("div"),this.container.className="relations-overlay",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.setAttribute("fill","none"),this.container.appendChild(this.svg),this.toolbar=this.buildToolbar(),this.container.appendChild(this.toolbar),e.host.appendChild(this.container),this.resizeObserver=new ResizeObserver(()=>this.requestRender()),this.resizeObserver.observe(e.host),this.mutationObserver=new MutationObserver(()=>{this.syncObservedCards(),this.requestRender()}),this.mutationObserver.observe(e.host,{childList:!0,subtree:!0,attributes:!0}),e.host.addEventListener("pointerover",t=>this.handlePointerOver(t)),e.host.addEventListener("pointerleave",t=>this.handlePointerLeave(t)),e.host.addEventListener("focusin",t=>this.handleFocusIn(t)),e.host.addEventListener("focusout",t=>this.handleFocusOut(t)),e.host.addEventListener("scroll",()=>this.requestRender(),{passive:!0}),window.addEventListener("resize",()=>this.requestRender()),window.addEventListener("scroll",()=>this.requestRender(),{passive:!0}),window.addEventListener("keydown",t=>this.handleKeydown(t)),P?this.cardObserver=new IntersectionObserver(t=>{t.forEach(i=>{const r=i.target.dataset.officerId;r&&(i.isIntersecting?this.visibleCards.add(r):this.visibleCards.delete(r))}),this.requestRender()},{root:e.host,threshold:.05}):this.cardObserver=null,this.syncToolbarState()}setEdges(e,t){this.currentCycle=t,this.adjacency.clear(),e.forEach(i=>{const n=this.adjacency.get(i.fromId)??[];n.push(i),this.adjacency.set(i.fromId,n);const r=this.adjacency.get(i.toId)??[];r.push(i),this.adjacency.set(i.toId,r)}),this.adjacency.forEach((i,n)=>{this.adjacency.set(n,zt(i))}),this.focusId&&!this.adjacency.has(this.focusId)&&(this.focusId=null,this.pinnedId=null),this.syncObservedCards(),this.requestRender()}setVisible(e){this.container.classList.toggle("is-hidden",!e),e||this.tooltip.hide()}setLensEnabled(e){if(this.enabled!==e){if(this.enabled=e,this.container.classList.toggle("is-disabled",!e),!e){this.tooltip.hide(),this.svg.replaceChildren();return}this.requestRender()}}isLensEnabled(){return this.enabled}setLegendVisible(e){this.legendVisible!==e&&(this.legendVisible=e,this.toolbar.classList.toggle("is-hidden",!e))}isLegendVisible(){return this.legendVisible}refresh(){this.requestRender()}buildToolbar(){const e=document.createElement("div");e.className="relations-overlay__toolbar";const t=document.createElement("span");t.className="relations-overlay__title",t.textContent="Beziehungs-Lens",e.appendChild(t);const i=document.createElement("div");i.className="relations-overlay__toggles",["ally","friend","rival","bloodoath","hierarchy"].forEach(c=>{const d=document.createElement("button");d.type="button",d.textContent=le[c],d.className="relations-overlay__toggle is-active",d.setAttribute("aria-pressed","true"),d.addEventListener("click",()=>this.toggleType(c)),i.appendChild(d),this.toggleButtons.set(c,d)}),e.appendChild(i);const n=document.createElement("label");n.className="relations-overlay__slider";const r=document.createElement("span");r.textContent="Kantenlimit",this.sliderValue=document.createElement("span"),this.sliderValue.className="relations-overlay__slider-value",this.sliderValue.textContent=`${this.density}`,this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=Z.toString(),this.slider.max=q.toString(),this.slider.value=D.toString(),this.slider.addEventListener("input",()=>this.setDensity(Number(this.slider.value))),n.append(r,this.slider,this.sliderValue),e.appendChild(n);const a=document.createElement("label");a.className="relations-overlay__checkbox",this.checkbox=document.createElement("input"),this.checkbox.type="checkbox",this.checkbox.addEventListener("change",()=>this.setSecondOrder(this.checkbox.checked));const o=document.createElement("span");return o.textContent="+1 Tiefe",a.append(this.checkbox,o),e.appendChild(a),e}setDensity(e){const t=Math.min(q,Math.max(Z,Math.round(e)));this.density!==t&&(this.density=t,this.slider.value=`${t}`,this.sliderValue.textContent=`${t}`,this.requestRender())}toggleType(e){this.activeTypes.has(e)&&this.activeTypes.size===1||(this.activeTypes.has(e)?this.activeTypes.delete(e):this.activeTypes.add(e),this.syncToolbarState(),this.requestRender())}setSecondOrder(e){this.includeSecondOrder!==e&&(this.includeSecondOrder=e,this.checkbox.checked=e,this.requestRender())}syncToolbarState(){this.toggleButtons.forEach((e,t)=>{const i=this.activeTypes.has(t);e.classList.toggle("is-active",i),e.setAttribute("aria-pressed",i?"true":"false")}),this.sliderValue.textContent=`${this.density}`,this.checkbox.checked=this.includeSecondOrder}handlePointerOver(e){if(!this.enabled)return;const t=e.target,i=t==null?void 0:t.closest(".officer-card");if(!i)return;const n=i.dataset.officerId;if(n){if(this.hoverId=n,e.shiftKey&&(this.pinnedId=n),this.pinnedId&&this.pinnedId!==n){e.shiftKey&&(this.pinnedId=n,this.applyFocus(n));return}this.applyFocus(n)}}handlePointerLeave(e){const t=e.relatedTarget;t&&this.options.host.contains(t)||(this.hoverId=null,this.pinnedId||this.applyFocus(null))}handleFocusIn(e){if(!this.enabled)return;const t=e.target,i=t==null?void 0:t.closest(".officer-card");if(!i)return;const n=i.dataset.officerId;n&&this.applyFocus(n)}handleFocusOut(e){const t=e.relatedTarget;t&&this.options.host.contains(t)||this.pinnedId||this.applyFocus(null)}handleKeydown(e){e.key==="Escape"&&(this.pinnedId=null,this.applyFocus(this.hoverId),this.tooltip.hide())}applyFocus(e){this.focusId!==e&&(this.focusId=e,this.requestRender())}computeEdgesForFocus(){return this.focusId?Kt(this.adjacency,this.focusId,{activeTypes:this.activeTypes,density:this.density,includeSecondOrder:this.includeSecondOrder}):[]}requestRender(){this.pendingFrame===null&&(this.pendingFrame=window.requestAnimationFrame(()=>{this.pendingFrame=null,this.render()}))}render(){if(!this.focusId||!this.enabled){this.svg.replaceChildren(),this.tooltip.hide();return}const e=this.options.host.getBoundingClientRect();this.svg.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this.svg.setAttribute("width",`${e.width}`),this.svg.setAttribute("height",`${e.height}`);const t=this.computeEdgesForFocus(),i=document.createDocumentFragment();t.forEach(n=>{const r=this.options.getOfficerElement(n.fromId),a=this.options.getOfficerElement(n.toId);if(!r||!a||P&&(!this.visibleCards.has(n.fromId)||!this.visibleCards.has(n.toId)))return;const o=r.getBoundingClientRect(),c=a.getBoundingClientRect(),{A:d,B:h}=xt(o,c,e),l=document.createElementNS("http://www.w3.org/2000/svg","path");l.classList.add("relations-overlay__edge"),l.setAttribute("d",Mt(d,h)),l.setAttribute("stroke",Ht[n.type]),l.setAttribute("stroke-linecap","round"),l.setAttribute("pointer-events","visibleStroke"),l.dataset.type=n.type;const u=Nt[n.type];u&&l.setAttribute("stroke-dasharray",u),l.dataset.edgeId=n.id,l.addEventListener("mouseenter",()=>{l.classList.add("is-hovered");const g=l.getBoundingClientRect(),p=this.options.getOfficerData(n.fromId),C=this.options.getOfficerData(n.toId);this.tooltip.show({edge:n,anchor:g,from:p,to:C,currentCycle:this.currentCycle})}),l.addEventListener("mouseleave",()=>{l.classList.remove("is-hovered"),this.tooltip.hide()}),i.appendChild(l)}),this.svg.replaceChildren(i),t.length===0&&this.tooltip.hide()}syncObservedCards(){const e=this.cardObserver;if(!e){this.visibleCards.clear(),this.adjacency.forEach((n,r)=>this.visibleCards.add(r));return}const t=new Set(this.adjacency.keys()),i=[];this.observedCards.forEach((n,r)=>{(!t.has(r)||!document.body.contains(n))&&(e.unobserve(n),this.visibleCards.delete(r),i.push(r))}),i.forEach(n=>this.observedCards.delete(n)),t.forEach(n=>{if(this.observedCards.has(n))return;const r=this.options.getOfficerElement(n);r&&(this.observedCards.set(n,r),e.observe(r))})}}class Zt{constructor(e){A(this,"element");A(this,"tabs",new Map);A(this,"lists",new Map);A(this,"activeStatus","active");A(this,"options");this.options=e,this.element=document.createElement("aside"),this.element.className="warcalls-dock",this.element.innerHTML=`
      <header>
        <h2>Warcalls</h2>
        <nav class="warcalls-tabs" role="tablist"></nav>
      </header>
      <div class="warcalls-content"></div>
    `}renderTabs(e){const t=this.element.querySelector(".warcalls-tabs");t&&(t.innerHTML="",this.tabs.clear(),e.forEach(i=>{const n=document.createElement("button");n.type="button",n.setAttribute("role","tab"),n.classList.add("warcalls-tab"),n.textContent=`${i.label} (${i.entries.length})`,n.dataset.status=i.status,i.status===this.activeStatus&&n.classList.add("is-active"),n.setAttribute("aria-selected",i.status===this.activeStatus?"true":"false"),n.addEventListener("click",()=>this.activateTab(i.status)),this.tabs.set(i.status,n),t.appendChild(n)}))}renderLists(e){const t=this.element.querySelector(".warcalls-content");t&&(t.innerHTML="",this.lists.clear(),e.forEach(i=>{const n=document.createElement("div");n.className="warcall-list",n.dataset.status=i.status,i.status!==this.activeStatus&&(n.hidden=!0),i.entries.length===0?n.innerHTML='<p class="warcall-empty">Keine Einträge.</p>':i.entries.forEach(r=>{n.appendChild(this.renderEntry(r))}),t.appendChild(n),this.lists.set(i.status,n)}))}renderEntry(e){const t=document.createElement("article");t.className="warcall-item",t.tabIndex=0;const i=this.resolvePhaseLabel(e),n=Math.max(0,e.plan.resolveOn-e.currentCycle);t.innerHTML=`
      <header>
        <span class="warcall-kind">${e.plan.kind}</span>
        <span class="warcall-phase">${i}</span>
      </header>
      <p class="warcall-meta">${e.plan.location} • Zyklus ${e.plan.cycleAnnounced}</p>
      <p class="warcall-risk">Risiko ${(e.plan.risk*100).toFixed(0)}% • ${e.plan.rewardHint??"Unbekannte Beute"}</p>
      <div class="warcall-avatars">${this.renderParticipants(e.participants)}</div>
      <footer>
        <span class="warcall-timer">Noch ${n} Zyklen</span>
        <button type="button">Details</button>
      </footer>
    `;const r=t.querySelector("button");return r==null||r.addEventListener("click",()=>this.options.onOpenDetails(e)),t.addEventListener("keydown",a=>{a.key==="Enter"&&(a.preventDefault(),this.options.onOpenDetails(e))}),t.addEventListener("click",()=>this.options.onOpenDetails(e)),t}renderParticipants(e){return e.map(t=>{const i=w(t.portraitSeed);return`<span class="warcall-avatar" title="${t.name}"><img src="${i}" alt="${t.name}"></span>`}).join("")}resolvePhaseLabel(e){if(e.resolution)return e.resolution.success?"Abgeschlossen: Triumph":"Abgeschlossen: Scheitern";switch(e.phase){case"prep":return"Vorbereitung";case"travel":return"Anreise";case"event":return"Ereignis";case"resolution":return"Auflösung";default:return e.phase}}syncActiveStatus(e){var t,i;this.tabs.forEach((n,r)=>{const a=r===this.activeStatus;n.classList.toggle("is-active",a),n.setAttribute("aria-selected",a?"true":"false")}),this.lists.forEach((n,r)=>{n.hidden=r!==this.activeStatus}),e&&((i=(t=this.options).onTabChange)==null||i.call(t,this.activeStatus))}activateTab(e){this.activeStatus=e,this.syncActiveStatus(!0)}update(e,t){var i;t&&(this.activeStatus=t),e.some(n=>n.status===this.activeStatus)||(this.activeStatus=((i=e[0])==null?void 0:i.status)??this.activeStatus),this.renderTabs(e),this.renderLists(e),this.syncActiveStatus(!1)}}const qt=[{key:"prep",label:"Vorbereitung"},{key:"travel",label:"Anreise"},{key:"event",label:"Konflikt"},{key:"resolution",label:"Auflösung"}];function Pt(s,e){var t;return s.id===e.plan.initiator?"Initiator":(t=e.resolution)!=null&&t.casualties.includes(s.id)?"Gefallen":"Teilnehmer"}class jt{constructor(e={}){A(this,"root");A(this,"options");A(this,"current",null);A(this,"mode","spectate");var t,i;this.options=e,this.root=document.createElement("div"),this.root.className="warcall-modal hidden",this.root.innerHTML=`
      <div class="warcall-modal__backdrop"></div>
      <div class="warcall-modal__dialog" role="dialog" aria-modal="true">
        <button class="warcall-modal__close" aria-label="Schließen">×</button>
        <div class="warcall-modal__content"></div>
      </div>
    `,document.body.appendChild(this.root),(t=this.root.querySelector(".warcall-modal__backdrop"))==null||t.addEventListener("click",()=>this.close()),(i=this.root.querySelector(".warcall-modal__close"))==null||i.addEventListener("click",()=>this.close())}render(e){var h;const t=this.root.querySelector(".warcall-modal__content");if(!t)return;this.current=e;const i=e.phase;t.innerHTML=`
      <header>
        <h3>${e.plan.kind}</h3>
        <p>${e.plan.location} • Ausgerufen in Zyklus ${e.plan.cycleAnnounced}</p>
        <p>Risiko ${(e.plan.risk*100).toFixed(0)}% — ${e.plan.rewardHint??"Unbekannte Belohnung"}</p>
      </header>
      <section class="warcall-timeline">
        ${qt.map(l=>`<div class="timeline-step ${l.key===i?"is-active":""}">
            <span>${l.label}</span>
          </div>`).join("")}
      </section>
      <section class="warcall-participants">
        <h4>Teilnehmer</h4>
        <div class="warcall-participants__list">
          ${e.participants.map(l=>`<article>
                <img src="${w(l.portraitSeed)}" alt="${l.name}">
                <div>
                  <strong>${l.name}</strong>
                  <span>${Pt(l,e)}</span>
                </div>
              </article>`).join("")}
        </div>
      </section>
      <section class="warcall-log">
        <h4>Log</h4>
        ${((h=e.resolution)==null?void 0:h.feed.map(l=>`<p>${l.text}</p>`).join(""))??"<p>Keine Ergebnisse bisher.</p>"}
      </section>
      <footer>
        <button type="button" data-action="join">Beitreten</button>
        <button type="button" data-action="redirect">Umlenken</button>
        <button type="button" data-action="sabotage">Sabotieren</button>
      </footer>
    `;const n=t.querySelector('[data-action="join"]'),r=t.querySelector('[data-action="redirect"]'),a=t.querySelector('[data-action="sabotage"]');n==null||n.addEventListener("click",()=>{var l,u;return(u=(l=this.options).onJoin)==null?void 0:u.call(l,e)}),r==null||r.addEventListener("click",()=>{var l,u;return(u=(l=this.options).onRedirect)==null?void 0:u.call(l,e)}),a==null||a.addEventListener("click",()=>{var l,u;return(u=(l=this.options).onSabotage)==null?void 0:u.call(l,e)});const o=[n,r,a],c=this.mode!=="player",d=!!e.resolution;o.forEach(l=>{if(!l)return;const u=c||d;l.disabled=u,c?(l.title="Im Spectate-Mode nicht verfügbar.",l.classList.add("is-disabled")):(l.classList.remove("is-disabled"),l.removeAttribute("title"))})}open(e){this.current=e,this.render(e),this.root.classList.remove("hidden")}close(){var e,t;this.root.classList.add("hidden"),this.current=null,(t=(e=this.options).onClose)==null||t.call(e)}setMode(e){this.mode!==e&&(this.mode=e,this.current&&this.render(this.current))}}class $t{constructor(){A(this,"root");var e,t;this.root=document.createElement("div"),this.root.className="help-overlay hidden",this.root.innerHTML=`
      <div class="help-overlay__backdrop"></div>
      <div class="help-overlay__panel" role="dialog" aria-modal="true">
        <header>
          <h2>Hilfe & Übersicht</h2>
          <button type="button" class="help-overlay__close" aria-label="Schließen">×</button>
        </header>
        <section>
          <h3>Hotkeys</h3>
          <ul>
            <li><kbd>E</kbd> Cycle vorwärts</li>
            <li><kbd>R</kbd> Soft-Reset</li>
            <li><kbd>N</kbd> Neuer Warcall</li>
            <li><kbd>H</kbd> Hilfe anzeigen</li>
          </ul>
        </section>
        <section>
          <h3>Beziehungsarten</h3>
          <ul class="help-overlay__relations">
            <li><span class="dot rival"></span> Rivalität (rot)</li>
            <li><span class="dot ally"></span> Allianz / Freundschaft (blau)</li>
            <li><span class="dot blood"></span> Blutschwur (violett, gepunktet)</li>
            <li><span class="dot hierarchy"></span> Befehlskette (grau)</li>
          </ul>
        </section>
        <section>
          <h3>Tooltips</h3>
          <p>Fokussiere oder hovere Offiziere, um Details, Beziehungen und Schnellaktionen zu sehen.</p>
        </section>
      </div>
    `,document.body.appendChild(this.root),(e=this.root.querySelector(".help-overlay__backdrop"))==null||e.addEventListener("click",()=>this.close()),(t=this.root.querySelector(".help-overlay__close"))==null||t.addEventListener("click",()=>this.close())}open(){this.root.classList.remove("hidden")}close(){this.root.classList.add("hidden")}toggle(){this.root.classList.contains("hidden")?this.open():this.close()}}class _t{constructor(){A(this,"root");A(this,"hideTimer",null);this.root=document.createElement("div"),this.root.className="ui-toast hidden",document.body.appendChild(this.root)}show(e,t=2200){this.root.textContent=e,this.root.classList.remove("hidden"),this.root.classList.add("is-visible"),this.hideTimer!==null&&window.clearTimeout(this.hideTimer),this.hideTimer=window.setTimeout(()=>this.hide(),t)}hide(){this.root.classList.remove("is-visible"),this.hideTimer=window.setTimeout(()=>{this.root.classList.add("hidden")},200)}}class es{constructor(){A(this,"root");this.root=document.createElement("div"),this.root.className="cycle-sweep hidden",this.root.innerHTML='<div class="cycle-sweep__wave"></div>',document.body.appendChild(this.root)}play(e){this.root.dataset.cycle=`${e.cycle}`,this.root.classList.remove("hidden"),this.root.classList.add("is-active"),setTimeout(()=>{this.root.classList.remove("is-active"),this.root.classList.add("hidden")},420)}}class ts{constructor(){A(this,"element");A(this,"list");A(this,"title");A(this,"historyButton");A(this,"historyPanel");A(this,"historyList");A(this,"history",[]);this.element=document.createElement("div"),this.element.className="cycle-digest hidden",this.element.innerHTML=`
      <div class="cycle-digest__card">
        <header>
          <span class="cycle-digest__title">Zyklus 0</span>
          <button type="button" class="cycle-digest__history">Vorheriger Digest</button>
        </header>
        <div class="cycle-digest__sweep"></div>
        <ul class="cycle-digest__list"></ul>
      </div>
      <div class="cycle-digest__history-panel hidden">
        <h4>Digest-Historie</h4>
        <ul class="cycle-digest__history-list"></ul>
      </div>
    `,document.body.appendChild(this.element),this.list=this.element.querySelector(".cycle-digest__list"),this.title=this.element.querySelector(".cycle-digest__title"),this.historyButton=this.element.querySelector(".cycle-digest__history"),this.historyPanel=this.element.querySelector(".cycle-digest__history-panel"),this.historyList=this.element.querySelector(".cycle-digest__history-list"),this.historyButton.addEventListener("click",()=>this.toggleHistory())}show(e,t){this.history=[{cycle:e,highlights:t},...this.history].slice(0,10),this.renderCurrent(e,t),this.renderHistory(),this.triggerSweep()}renderCurrent(e,t){if(this.element.classList.remove("hidden"),this.title.textContent=`Zyklus ${e}`,this.list.innerHTML="",t.length===0){const i=document.createElement("li");i.className="cycle-digest__empty",i.textContent="Keine besonderen Ereignisse in diesem Zyklus.",this.list.appendChild(i)}else t.slice(0,5).forEach(i=>{const n=document.createElement("li");n.className="cycle-digest__item",n.innerHTML=`
          <span class="cycle-digest__icon">${i.icon}</span>
          <div class="cycle-digest__body">
            <strong>${i.label}</strong>
            ${i.details?`<span>${i.details}</span>`:""}
          </div>
        `,this.list.appendChild(n)});this.historyButton.disabled=this.history.length<=1,this.historyButton.disabled&&(this.historyPanel.classList.add("hidden"),this.element.classList.remove("is-history-open"))}renderHistory(){const e=this.history.slice(1);this.historyList.innerHTML="",e.length!==0&&e.forEach(t=>{const i=document.createElement("li");i.innerHTML=`
        <strong>Zyklus ${t.cycle}</strong>
        <span>${t.highlights.slice(0,3).map(n=>n.label).join(" • ")}</span>
      `,this.historyList.appendChild(i)})}toggleHistory(){if(this.historyButton.disabled)return;const e=this.element.classList.toggle("is-history-open");this.historyPanel.classList.toggle("hidden",!e),this.historyButton.setAttribute("aria-expanded",e?"true":"false")}triggerSweep(){const e=this.element.querySelector(".cycle-digest__sweep");e&&(e.classList.remove("is-animating"),e.offsetWidth,e.classList.add("is-animating"))}}const b=new Map;let R=null;function de(s){return s.trim().toLowerCase()}function ss(s){if(!(s instanceof HTMLElement))return!1;const e=s.tagName;return e==="INPUT"||e==="TEXTAREA"?!0:s.isContentEditable}function is(s){if(s.defaultPrevented)return;const e=de(s.key),t=b.get(e);!t||t.size===0||!Array.from(t).some(n=>n.options.allowWhileTyping)&&ss(s.target)||(t.forEach(n=>{n.handler(s),n.options.once&&t.delete(n),n.triggered=!0}),t.size===0&&b.delete(e),s.defaultPrevented||s.preventDefault())}function ns(){if(R||typeof window>"u")return;const s=e=>is(e);window.addEventListener("keydown",s,{passive:!1}),R=()=>{window.removeEventListener("keydown",s),R=null}}function y(s,e,t={}){const i=de(s),n=b.get(i)??new Set,r={handler:e,options:t};return n.add(r),b.set(i,n),()=>n.delete(r)}function rs(s,e){return y(s,e,{once:!0})}function as(){const s=[];return b.forEach((e,t)=>{e.forEach(i=>{s.push({key:t,description:i.options.description})})}),s}const os={spectate:"Spectate",player:"Player"};class cs{constructor(e){A(this,"element");A(this,"options");A(this,"selection","spectate");A(this,"startButton");A(this,"spectateButton");A(this,"playerButton");this.options=e,this.element=document.createElement("div"),this.element.className="mode-gate",this.element.innerHTML=`
      <div class="mode-gate__backdrop"></div>
      <section class="mode-gate__panel" role="dialog" aria-modal="true">
        <header>
          <h2>Wähle deinen Modus</h2>
          <p>Erkunde die Nemesis-Hierarchie als Beobachter. Der Spieler-Modus folgt später.</p>
        </header>
        <div class="mode-gate__options">
          <button type="button" data-mode="spectate" class="is-active">
            <span class="mode-gate__mode">Spectate</span>
            <span class="mode-gate__hint">Standardmodus • Keine Spielerfigur</span>
          </button>
          <button type="button" data-mode="player" class="is-disabled" disabled>
            <span class="mode-gate__mode">Player</span>
            <span class="mode-gate__hint">Coming soon</span>
          </button>
        </div>
        <footer>
          <button type="button" data-action="start">Los geht's</button>
        </footer>
      </section>
    `,document.body.appendChild(this.element),this.element.setAttribute("aria-hidden","true"),this.startButton=this.element.querySelector('[data-action="start"]'),this.spectateButton=this.element.querySelector('button[data-mode="spectate"]'),this.playerButton=this.element.querySelector('button[data-mode="player"]'),this.registerEvents(),this.close()}open(e="spectate"){this.selection=this.resolveInitial(e),this.syncSelection(),this.element.classList.add("is-open"),this.element.removeAttribute("hidden"),this.element.removeAttribute("aria-hidden"),requestAnimationFrame(()=>this.startButton.focus())}close(){this.element.classList.remove("is-open"),this.element.setAttribute("hidden","true"),this.element.setAttribute("aria-hidden","true")}resolveInitial(e){return e==="player"?"spectate":e}registerEvents(){var e;(e=this.element.querySelector(".mode-gate__backdrop"))==null||e.addEventListener("click",()=>this.close()),this.startButton.addEventListener("click",()=>{this.options.onConfirm(this.selection),this.close()}),this.spectateButton.addEventListener("click",()=>{this.selection="spectate",this.syncSelection()}),this.playerButton.addEventListener("click",()=>{}),this.playerButton.title="Im Spectate-Mode noch nicht verfügbar.",this.element.addEventListener("keydown",t=>{t.key==="Escape"&&(t.preventDefault(),this.close())})}syncSelection(){this.spectateButton.classList.toggle("is-active",this.selection==="spectate");const e=this.selection==="player";this.playerButton.classList.toggle("is-active",e),this.startButton.textContent=this.selection==="spectate"?"Spectate starten":`${os[this.selection]} starten`}}const As=["König","Spieler","Captain","Späher","Grunzer"],ls=8;class ds{constructor(e,t){A(this,"root",null);A(this,"ranksEl",null);A(this,"feedEl",null);A(this,"warcallsHost",null);A(this,"modeIndicator",null);A(this,"warcallButton",null);A(this,"cards",new Map);A(this,"rankContainers",new Map);A(this,"officerIndex",new Map);A(this,"feed",new Ct);A(this,"graveyard",null);A(this,"relations",null);A(this,"resizeObserver",null);A(this,"lastEdges",[]);A(this,"tooltip");A(this,"warcallDock");A(this,"warcallModal");A(this,"helpOverlay",new $t);A(this,"toast",new _t);A(this,"cycleSweep",new es);A(this,"cycleDigest",new ts);A(this,"completedWarcalls",[]);A(this,"warcallTab","active");A(this,"hotkeyHints",new Set);A(this,"modeGate");A(this,"modeState");this.store=e,this.modeStore=t;const i=e.getState();this.modeState=t.getState(),this.syncOfficerIndex(i.officers),this.graveyard=new G(i.graveyard),this.tooltip=new Tt({resolveName:n=>{var r;return(r=this.officerIndex.get(n))==null?void 0:r.name},onInvite:n=>this.toast.show(`${n.name} fordert Verstärkung an.`),onMarkRival:n=>this.toast.show(`${n.name} wurde als Rivale vorgemerkt.`),onOpenDetails:n=>this.toast.show(`Details für ${n.name} folgen in einem späteren Build.`)}),this.warcallDock=new Zt({onOpenDetails:n=>this.openWarcall(n),onTabChange:n=>{this.warcallTab=n}}),this.warcallModal=new jt({onClose:()=>document.body.classList.remove("modal-open"),onJoin:()=>this.toast.show("Kommando: Teilnahme derzeit nur simuliert."),onRedirect:()=>this.toast.show("Umlenkung wird protokolliert."),onSabotage:()=>this.toast.show("Sabotage ist noch in Arbeit.")}),this.warcallModal.setMode(this.modeState.mode),this.modeGate=new cs({onConfirm:n=>this.handleModeConfirm(n)}),this.modeStore.on("mode:changed",n=>this.handleModeChange(n)),this.syncModeUI(),e.events.on("feed:appended",n=>{this.feed.render(n),this.renderFeed()}),e.events.on("graveyard:changed",n=>{this.graveyard=new G(n),this.updateGraveyardButton()}),e.events.on("state:changed",n=>{this.syncOfficerIndex(n.officers),this.renderOfficers(n.officers),this.updateWarcalls(n.warcalls,n.cycle)}),e.events.on("cycle:completed",n=>{this.cycleSweep.play(n),this.highlightHierarchyChanges(n.promotions),n.feed.length>0&&(this.feed.render(n.feed),this.renderFeed())}),e.events.on("cycle:digest",({cycle:n,highlights:r})=>{this.cycleDigest.show(n,r)}),e.events.on("warcall:planned",()=>{const n=this.store.getState();this.updateWarcalls(n.warcalls,n.cycle),this.toast.show("Neuer Warcall eingetragen.")}),e.events.on("warcall:resolved",n=>{this.onWarcallResolved(n)})}handleModeConfirm(e){this.modeStore.setMode(e)}handleModeChange(e){this.modeState=e,this.syncModeUI(),this.updateModeUrl(e.mode)}updateModeUrl(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("mode",e);const i=`${t.pathname}${t.search}${t.hash}`;window.history.replaceState({},"",i)}syncModeUI(){this.applyModeToControls(),this.syncModeIndicator(),this.syncModeAttributes(),this.warcallModal.setMode(this.modeState.mode)}applyModeToControls(){if(!this.warcallButton)return;const e=this.modeState.mode!=="player";this.warcallButton.disabled=e,e?this.warcallButton.setAttribute("title","Im Spectate-Mode nicht verfügbar."):this.warcallButton.removeAttribute("title")}syncModeIndicator(){if(!this.modeIndicator)return;const e=this.modeState.mode==="player"?"Player-Modus (Beta)":"Spectate-Modus";this.modeIndicator.textContent=e}syncModeAttributes(){this.root&&(this.root.dataset.mode=this.modeState.mode),typeof document<"u"&&document.body&&(document.body.dataset.gameMode=this.modeState.mode)}mount(e){var i;this.root=e,e.innerHTML="";const t=document.createElement("div");if(t.className="nemesis-app",t.innerHTML=`
      <header class="hud">
        <div class="brand">NEMESIS HOF</div>
        <div class="hud-mode" data-mode-indicator>Spectate-Modus</div>
        <div class="hud-controls">
          <button data-action="cycle">E — Cycle</button>
          <button data-action="reset">R — Neu</button>
          <button data-action="warcall">N — Warcall</button>
          <button data-action="help">Hilfe</button>
          <button data-action="grave">Friedhof (0)</button>
        </div>
      </header>
      <main class="layout">
        <aside class="dock" id="warcalls"></aside>
        <section class="ranks" id="ranks"></section>
        <aside class="feed" id="feed"></aside>
      </main>
    `,e.appendChild(t),this.ranksEl=t.querySelector("#ranks"),this.feedEl=t.querySelector("#feed"),this.warcallsHost=t.querySelector("#warcalls"),this.modeIndicator=t.querySelector("[data-mode-indicator]"),(i=this.warcallsHost)==null||i.appendChild(this.warcallDock.element),this.registerUIEvents(t),this.syncModeUI(),this.renderOfficers(this.store.getState().officers),this.renderFeed(),this.updateWarcalls(this.store.getState().warcalls,this.store.getState().cycle),this.updateGraveyardButton(),this.ranksEl){this.relations=new Dt({host:this.ranksEl,getOfficerElement:r=>{var a;return(a=this.cards.get(r))==null?void 0:a.element},getOfficerData:r=>this.officerIndex.get(r)});const n=this.store.getState();this.lastEdges=$(n.officers,n.cycle),this.relations.setEdges(this.lastEdges,n.cycle),this.resizeObserver=new ResizeObserver(()=>{var r;(r=this.relations)==null||r.refresh()}),this.resizeObserver.observe(this.ranksEl),this.ranksEl.addEventListener("scroll",()=>{var r;(r=this.relations)==null||r.refresh()})}ns(),this.registerHotkeys(),this.modeGate.open(this.modeState.mode)}registerUIEvents(e){var t,i,n,r,a;(t=e.querySelector('button[data-action="cycle"]'))==null||t.addEventListener("click",()=>this.triggerCycle()),(i=e.querySelector('button[data-action="reset"]'))==null||i.addEventListener("click",()=>this.reset()),this.warcallButton=e.querySelector('button[data-action="warcall"]'),(n=this.warcallButton)==null||n.addEventListener("click",()=>this.scheduleWarcall()),(r=e.querySelector('button[data-action="help"]'))==null||r.addEventListener("click",()=>this.helpOverlay.toggle()),(a=e.querySelector('button[data-action="grave"]'))==null||a.addEventListener("click",()=>this.toast.show("Graveyard-Overlay ist in Arbeit."))}registerHotkeys(){y("e",()=>this.triggerCycle()),y("r",()=>this.reset()),y("n",()=>this.scheduleWarcall()),y("h",()=>this.helpOverlay.toggle()),y("f",()=>{if(!this.relations)return;const e=!this.relations.isLensEnabled();this.relations.setLensEnabled(e),this.toast.show(e?"Beziehungs-Lens aktiviert.":"Beziehungs-Lens deaktiviert.")}),y("l",()=>{if(!this.relations)return;const e=!this.relations.isLegendVisible();this.relations.setLegendVisible(e),this.toast.show(e?"Relations-Legende eingeblendet.":"Relations-Legende ausgeblendet.")}),rs("?",()=>{const e=as().map(t=>t.key.toUpperCase()).join(", ");this.toast.show(`Aktive Hotkeys: ${e}`)})}triggerCycle(){this.store.tick(),this.rememberHint("e","Cycle ausgelöst (Hotkey E).")}reset(){this.rememberHint("r","Soft-Reset ausgeführt."),location.reload()}scheduleWarcall(){if(this.modeState.mode!=="player"){this.rememberHint("n-disabled","Im Spectate-Mode nicht verfügbar.");return}this.store.scheduleWarcall(),this.rememberHint("n","Neuer Warcall (Hotkey N).")}rememberHint(e,t){this.hotkeyHints.has(e)||(this.hotkeyHints.add(e),this.toast.show(t))}resolveWarcallParticipants(e,t){return e.map(i=>this.officerIndex.get(i)??t.graveyard.find(n=>n.id===i)).filter(i=>!!i)}mapWarcallEntry(e,t,i){const n=this.resolveWarcallParticipants(e.participants,t);return{plan:e,participants:n,currentCycle:i,phase:e.phase,status:oe(e)}}syncOfficerIndex(e){e.forEach(t=>this.officerIndex.set(t.id,t))}renderOfficers(e){if(!this.ranksEl)return;const t=new Set(e.map(i=>i.id));if(this.cards.forEach((i,n)=>{t.has(n)||(i.element.remove(),this.cards.delete(n))}),As.forEach(i=>{var o;let n=this.rankContainers.get(i);n||(n=document.createElement("div"),n.className="rank-group",n.innerHTML=`<h3>${i}</h3><div class="rank-grid"></div>`,(o=this.ranksEl)==null||o.appendChild(n),this.rankContainers.set(i,n));const r=n.querySelector(".rank-grid");e.filter(c=>c.rank===i).forEach(c=>{const d=this.cards.get(c.id);if(d)d.captureBounds(),d.update(c),r.appendChild(d.element),d.playFlip();else{const h=new Qt(c,{tooltip:this.tooltip,onOpenDetails:()=>this.toast.show(`Details für ${c.name} werden zukünftig erweitert.`)});this.cards.set(c.id,h),r.appendChild(h.element)}})}),this.relations){const i=this.store.getState();this.lastEdges=$(i.officers,i.cycle),this.relations.setEdges(this.lastEdges,i.cycle)}}renderFeed(){if(!this.feedEl)return;const e=this.feed.getLines();if(e.length===0){this.feedEl.innerHTML='<p class="feed-empty">Noch keine Ereignisse.</p>';return}this.feedEl.innerHTML=e.map(t=>`<div class="feed-item">${t.text}</div>`).join(""),this.feedEl.scrollTop=this.feedEl.scrollHeight}updateGraveyardButton(){if(!this.root)return;const e=this.root.querySelector('button[data-action="grave"]');e&&(e.textContent=`Friedhof (${this.graveyard?this.graveyard.size:0})`)}updateWarcalls(e,t){const i=this.store.getState(),n={...i,warcalls:e},r=W(n,"active"),a=W(n,"pending"),o=r.map(h=>this.mapWarcallEntry(h,i,t)),c=a.map(h=>this.mapWarcallEntry(h,i,t)),d=[{label:"Aktiv",status:"active",entries:o},{label:"Ausstehend",status:"pending",entries:c},{label:"Abgeschlossen",status:"done",entries:this.completedWarcalls}];this.warcallDock.update(d,this.warcallTab)}onWarcallResolved(e){const t=this.store.getState(),i=this.resolveWarcallParticipants(e.warcall.participants,t),n={plan:{...e.warcall},participants:i,currentCycle:t.cycle,resolution:e,phase:"resolution",status:"done"};this.completedWarcalls=[n,...this.completedWarcalls].slice(0,ls),this.updateWarcalls(t.warcalls,t.cycle)}highlightHierarchyChanges(e){e.forEach(t=>{const i=this.cards.get(t.officerId);i&&(i.element.classList.add("rank-changed"),setTimeout(()=>i.element.classList.remove("rank-changed"),600))})}openWarcall(e){document.body.classList.add("modal-open"),this.warcallModal.open(e)}}const F=new ft("nemesis-seed"),T=new mt;function hs(){return typeof window>"u"||new URLSearchParams(window.location.search).get("mode"),"spectate"}const U=hs();T.setMode(U);if(typeof window<"u"){const s=new URL(window.location.href);s.searchParams.get("mode")!==U&&(s.searchParams.set("mode",U),window.history.replaceState({},"",`${s.pathname}${s.search}${s.hash}`))}const _=new ds(F,T);if(typeof window<"u"){window.nemesis={store:F,ui:_,uiMode:T,advanceCycle:()=>F.tick()};const s=document.getElementById("app");s?_.mount(s):console.error("#app not found")}
